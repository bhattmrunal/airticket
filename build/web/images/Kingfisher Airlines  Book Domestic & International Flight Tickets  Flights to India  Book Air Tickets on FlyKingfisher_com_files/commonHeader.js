//browser.js
var browser=new Browser();function Browser(){var ua,s,i;this.isIE=false;this.isNS=false;this.version=null;this.isOpera=false;ua=navigator.userAgent;s="MSIE";if((i=ua.indexOf(s))>=0){this.isIE=true;this.version=parseFloat(ua.substr(i+s.length));return}s="Netscape6/";if((i=ua.indexOf(s))>=0){this.isNS=true;this.version=parseFloat(ua.substr(i+s.length));return}if(ua.toUpperCase().indexOf("OPERA")>=0){this.isOpera=true}s="Gecko";if((i=ua.indexOf(s))>=0){this.isNS=true;this.version=6.1;var intLength=ua.length;var intGecko=ua.indexOf(s);var strBGecko=ua.substr(intGecko,(intLength-intGecko));var arrBGceko=strBGecko.split("/");if(strBGecko.toUpperCase().indexOf("FIREFOX")>=0){this.version=arrBGceko[2]}else if(strBGecko.toUpperCase().indexOf("SAFARI")>=0){this.version=arrBGceko[1]}return}}

//suppressmouse
var strPageID = "";
	document.onkeydown = function Body_onKeyDown(objEvent){
		try{
			if (browser.isIE){objEvent = window.event;}
			var strKeyValue = objEvent.keyCode ;
			var strDisable  = "N" ;
			if (objEvent.ctrlKey){ 
			    switch (strKeyValue){
			    	case 69 : // E Search
			     	case 72 : // H History
			     	case 73 : // I Bookmarks
			     	case 76 : // N New window
			     	case 78 : // O URL  
			     	case 79 : // L URL
			     	case 82 : // R Reload
			     	case 53 : // 5 select all
			     	case 87 : // W Close windows
			      		strDisable = "Y";
			      		break ;
			    	}  
			   	}
			
			if (objEvent.shiftKey){ 
				switch (strKeyValue){
					case 188 : // <
					case 190 : // >
					case 192 : // ~
					case 222 : // "
					case 54 :  // ^	
					//case 220 : // |				
						strDisable = "Y";
						break ;
				}		
			}
			if (objEvent.altKey){
				switch (strKeyValue){
					case 37 : // Back Arrow
					case 39 : // Forward Arrow
					case 96 : // 0 NumberPad
					case 97 : // 1 NumberPad
					case 98 : // 2 NumberPad
					case 99 : // 3 NumberPad
					case 100 : // 4 NumberPad
					case 101 : // 5 NumberPad
					case 102 : // 6 NumberPad
					case 103 : // 7 NumberPad
					case 104 : // 8 NumberPad
					case 105 : // 9 NumberPad
						alert("Copyright  2010-2011 Kingfisher Airlines Limited."); 
						strDisable = "Y";
						break ;
				}						
			}
			
			switch (strKeyValue){
				case 122 : // F11
				case 222 : // '
				case 220 : // \
				case 116 : // F5
					strDisable = "Y";
					break ;
				
				case 191 : // /
					break;
				case 13 : // Enter Key
					if (browser.isIE){
						switch (objEvent.srcElement.tagName){
							case "TEXTAREA" :
						 		strDisable = "Y";
								break;
						}
					}else{
						switch (objEvent.target.type){
							case "textarea" :
				 			strDisable = "Y";
							break;
						}
					}
					break ;	
					
				case 8 :   // Backspace
					if (browser.isIE){
						strDisable = "Y";
						switch (objEvent.srcElement.type){
					 		case "text" :
							case "textarea" :
							case "password" :
						 		strDisable = "N";
								break;
						}
					}else{
						strDisable = "Y";
						switch (objEvent.target.type){
				 			case "text" :
							case "textarea" :
							case "password" :
					 			strDisable = "N";
								break;
						}	
					}
					break;
			}
			
			if (strDisable == "Y"){
				if (browser.isIE){
					objEvent.keyCode = 0;
				}
				return false;
			}else{
				return true;
			}                       
		}catch (e){}
	} 
	
	function PasteValidate(objEvent, objControl){
		var strKeyValue = objEvent.keyCode;
		var strDisable  = "N"; 
		if (objEvent.ctrlKey){ 
			switch (strKeyValue){
				case 86 : // V
					strDisable = "Y";
					break;
			}	
		}
		if (strDisable == "Y"){
			objControl.value = "";
			return false;
		}else{
			return true;
		} 
	}


//commonsystem.js
var strSYSError="";var intMaxSearchDays=331;var intMaxInf=3;var strHeader1='';var strHeader2='';var arrWarn=new Array();var arrErrMsg=new Array();var arrErr=new Array();var arrControls=new Array();var strLougoutMsg="Do you want to logout?";var strTagLiSt="<li>";var strTagLiEn="<\/li>";var objTop=top;var objCW=null;var strErrMsg="";var strOptEmpty="<option value=''><\/option>";var strOptTagDef="<option value=''>--Please Select--<\/option>";var strTxtMand="<font class='fntMandatory fntBold'>&nbsp;*<\/font>";var strDDDefValue="--Please Select--";var hdnData="";var hdnMode="";var intCurrDeci=2;var strErrClass="bgError";var strByFlight=false;var strBestFare = false;var strDDMMMYYY="DD MMM YYYY";var strDDMMMMYYY="DD MMMM YYYY";var strDDMMM="DD MMM";var strPaxTypeAdt="ADT";var strPaxTypeChld="CNN";var strPaxTypeInf="INF";var strPaxIDAdt="Adt_";var strPxtIDChld="Chld_";var strPaxIDInf="Inf_";var intPgTop=0;var blnCusProgress=false;function resetStyle(){try{var intStart=0;var objArrControls=arrControls;if(objArrControls.length==1){objArrControls=arguments[0]}for(var i=intStart;i<objArrControls.length;i++){if(objArrControls[i][0]!=""){setStyleClass(objArrControls[i][0],objArrControls[i][3])}}}catch(ex){}}function resetStyle(objArrControls){try{var intStart=0;for(var i=intStart;i<objArrControls.length;i++){if(objArrControls[i][0]!=""){setStyleClass(objArrControls[i][0],objArrControls[i][3])}}}catch(ex){}}function buildTagError(strMsg){return strTagLiSt+strMsg+strTagLiEn}function pgShowErrMsg(strMsg){alert(strMsg)}function pgInitializeErrMsg(){strErrMsg=""}function showErrMsg(strMsg){var strHTMLText="";strHTMLText+="<table width='100%' border='0' cellpadding='0' cellspacing='0'>";strHTMLText+="    <tr>";strHTMLText+="        <td class='thinError bgError'>";strHTMLText+="            <table width='98%' border='0' cellpadding='1' cellspacing='0' align='center'>";strHTMLText+="                <tr><td class='hgtEmptyGap' colspan='2'><\/td><\/tr>";strHTMLText+="                <tr><td colspan='2'><a href='#' onclick='return false;' id='lnkError' name='lnkError' class='cursorDefault'><font class='fntBold fntError fntHD'>"+strTxtWarnHD+"<\/font><\/a><\/td><\/tr>";strHTMLText+="                <tr><td class='hgtEmptyGap' colspan='2'><\/td><\/tr>";strHTMLText+="                <tr>";strHTMLText+="                    <td width='8%' valign='top' align='center'>";strHTMLText+="                        <img src='"+strImgUrl+"KF0013.gif' alt='Warning'>";strHTMLText+="                    <\/td>";strHTMLText+="                    <td width='92%' valign='top'>";strHTMLText+="                        <font class='fntError'>"+strMsg+"<\/font>";strHTMLText+="                    <\/td>";strHTMLText+="                <\/tr>";strHTMLText+="                <tr><td class='hgtEmptyGap' colspan='2'><\/td><\/tr>";strHTMLText+="            <\/table>";strHTMLText+="        <\/td>";strHTMLText+="    <\/tr>";strHTMLText+="<\/table><br>";DivWrite("spnErrMsg",strHTMLText);if(arguments==null||arguments.length<=1){setFocus("lnkError")}}function showSuccessfulMsg(strMsg){var strHTMLText="";strHTMLText+="<table width='100%' border='0' cellpadding='0' cellspacing='0'>";strHTMLText+="    <tr>";strHTMLText+="        <td class='thinSuccess bgError'>";strHTMLText+="            <table width='98%' border='0' cellpadding='1' cellspacing='0' align='center'>";strHTMLText+="                <tr><td class='hgtEmptyGap' colspan='2'><\/td><\/tr>";strHTMLText+="                <tr><td colspan='2'><a href='#' onclick='return false;' id='lnkError' name='lnkError' class='cursorDefault'><font class='fntBold fntSuccessful fntHD'>"+strTxtSuccessHD+"<\/font><\/a><\/td><\/tr>";strHTMLText+="                <tr><td class='hgtEmptyGap' colspan='2'><\/td><\/tr>";strHTMLText+="                <tr>";strHTMLText+="                    <td width='8%' valign='top' align='center'>";strHTMLText+="                        <img src='"+strImgUrl+"KF164.jpg' alt='Successful'>";strHTMLText+="                    <\/td>";strHTMLText+="                    <td width='92%' valign='top'>";strHTMLText+="                        <font class='fntSuccessful'>"+strMsg+"<\/font>";strHTMLText+="                    <\/td>";strHTMLText+="                <\/tr>";strHTMLText+="                <tr><td class='hgtEmptyGap' colspan='2'><\/td><\/tr>";strHTMLText+="            <\/table>";strHTMLText+="        <\/td>";strHTMLText+="    <\/tr>";strHTMLText+="<\/table><br>";DivWrite("spnErrMsg",strHTMLText);if(arguments==null||arguments.length<=1){setFocus("lnkError")}}function initializeErrMsg(){DivWrite("spnErrMsg","");pgInitializeErrMsg()}function buildErrorList(){var intLen=arrErrMsg.length;var i=0;var strHTMLText="";if(intLen>0){do{strHTMLText+=buildTagError(arrErrMsg[i]);i++}while(--intLen)}intLen=arrWarn.length;i=0;if(intLen>0){if(strHTMLText!=""){strHTMLText+="<hr class='thinHRError'>"}do{strHTMLText+=buildTagError(arrWarn[i]);i++}while(--intLen)}if(strHTMLText!=""){showErrMsg(strHTMLText)}}function initializeErrorList(){arrErrMsg.length=0;arrWarn.length=0}function buildBCrum(intIndex){var strHTMLText="";var intLen=arrBCrum.length;if(intLen>0){var intTotCrum=intLen-1;var strBCrumRow1="<tr>";var strBCrumRow2="<tr>";var i=0;var strFntClass="";var intBWidth="";var intBAlign="";var intBImg="";var strBHTMLText="";do{if(i<intIndex){strFntClass="fntBCrumP"}else if(i>intIndex){strFntClass="fntBCrumN"}else{strFntClass="fntBCrumC fntBold"}strBCrumRow1+="<td align='center'><font class='"+strFntClass+"'>"+arrBCrum[i]+"<\/font><\/td>";strBHTMLText="<font>&nbsp;<\/font>";switch(i){case intIndex:intBWidth="100%";intBAlign=strAlignL;intBImg="KF0014.jpg";strBHTMLText="<table width='60%' border='0' cellpadding='0' cellspacing='0' align='"+strAlignR+"'>";strBHTMLText+="   <tr>";if(i!=intTotCrum){strBHTMLText+="       <td width='10%' valign='bottom'><img src='"+strImgUrl+"KF0016.jpg' alt='Bread Crum'><\/td>";strBHTMLText+="       <td width='90%' style='background-image:url("+strImgUrl+"KF0015.jpg);background-position:center;background-repeat:repeat-x;'><font>&nbsp;<\/font><\/td>"}else{intBWidth="50%";strBHTMLText+="       <td align='"+strAlignR+"' valign='bottom'><img src='"+strImgUrl+"KF0016.jpg' alt='Bread Crum'><\/td>"}strBHTMLText+="   <\/tr>";strBHTMLText+="<\/table>";break;case 0:intBWidth="50%";intBAlign=strAlignR;intBImg="KF0014.jpg";break;case intTotCrum:intBWidth="50%";intBAlign=strAlignL;intBImg="KF0015.jpg";break;default:intBWidth="100%";intBAlign="center";if(i<intIndex){intBImg="KF0014.jpg"}else{intBImg="KF0015.jpg"}break}strBCrumRow2+="<td align='"+intBAlign+"'>";strBCrumRow2+="   <table width='"+intBWidth+"' border='0' cellpadding='0' cellspacing='0'>";strBCrumRow2+="       <tr>";strBCrumRow2+="           <td style='height:28px;background-image:url("+strImgUrl+intBImg+");background-position:center;background-repeat:repeat-x;'>"+strBHTMLText+"<\/td>";strBCrumRow2+="       <\/tr>";strBCrumRow2+="   <\/table>";strBCrumRow2+="<\/td>";i++}while(--intLen);strHTMLText+="<table width='100%' border='0' cellpadding='0' cellspacing='0'>";strHTMLText+="<tr><td colspan='"+(intTotCrum+1)+"' class='hgtEmptyGap'><\/td><\/tr>";strHTMLText+=strBCrumRow1+"<\/tr>";strHTMLText+=strBCrumRow2+"<\/tr>";strHTMLText+="<\/table>"}DivWrite("spnBCrum",strHTMLText)}function timeOutStart(){var strHTMLText="";var strTimeText=replaceAll(strTxtTimer,"#1","<b><span id='spnTimerValue'><\/span><\/b>");strHTMLText+="<table width='70%' border='0' cellpadding='0' cellspacing='0'>";strHTMLText+="    <tr>";strHTMLText+="        <td width='1%'><img src='"+strImgUrl+"KF0017.jpg' alt=''><\/td>";strHTMLText+="        <td width='18%' style='background-image:url("+strImgUrl+"KF0019.jpg);background-position:center;background-repeat:repeat-x;'>";strHTMLText+="            <img src='"+strImgUrl+"KF0020.jpg' alt='Timmer'>";strHTMLText+="        <\/td>";strHTMLText+="        <td width='80%' style='background-image:url("+strImgUrl+"KF0019.jpg);background-position:center;background-repeat:repeat-x;' align='center' valign='top'><span id='spnTimeMsg'><font>"+strTimeText+"<\/font><\/span><\/td>";strHTMLText+="        <td width='1%'><img src='"+strImgUrl+"KF0018.jpg' alt=''><\/td>";strHTMLText+="    <\/tr>";strHTMLText+="<\/table>";DivWrite("spnTimeWarn",strHTMLText);if(arguments!=null&&arguments.length>=1&&arguments[0]==false){setDisplay("spnTimeWarn",false)}top.blnTimerEnable=true;top.setTimer()}function loadHomePage(){if(strPrmHomeURL==""){strPrmHomeURL="http://www.flykingfisher.com"}top.location.replace(strPrmHomeURL)}function loadMyHomePage(){var tmpMyHomeURL="http://www.flykingfisher.com";var intIndex=0;if(arguments!=null&&arguments.length>=1&&arguments[0]==1){intIndex=1}tmpMyHomeURL=strMyHomeURL[intIndex];top.location.replace(tmpMyHomeURL)}function loadBackPage(intIndex){switch(intIndex){case 1:loadHomePage();break;case 2:top.location.replace("../public/showAvailability.action?hdnMode=BACK");break;case 3:top.location.replace("../public/showModifyBooking.action?hdnMode=BACK"+"&hdnUniqueId="+escape(strUniqueId));break}}function replaceInvalidTextChar(strRichText){var strReturnText="";strReturnText=replaceall(strRichText,"^"," ");var returnChars=escape(strReturnText);returnChars=returnChars.replace(/%u201C/g,'"');returnChars=returnChars.replace(/%u201D/g,'"');returnChars=returnChars.replace(/%u2013/g,'-');returnChars=returnChars.replace(/%u2014/g,'--');returnChars=returnChars.replace(/%u2018/g,'\'');returnChars=returnChars.replace(/%u2019/g,'\'');returnChars=returnChars.replace(/%BD/g,'1/2');returnChars=returnChars.replace(/%u2122/g,'TM');returnChars=returnChars.replace(/%u2026/g,'...');returnChars=unescape(returnChars);returnChars=convertAjaxData(returnChars);return returnChars}function showProgress(){try{intPgTop=getFieldByID("bdMain")!=null?getFieldByID("bdMain").scrollTop:0}catch(ex){}setDisplay("divMainPanel",false);DivWrite('spnProgressHeader01',"");DivWrite('spnProgressHeader02',"");DivWrite('spnProgressHeader03',"");if(blnCusProgress){setProgressCusMessages()}else{setProgressDefaultMessages()}setDisplay("divProgPannelCus",true);blnCusProgress=false}function hideProgress(){setDisplay("divMainPanel",true);setDisplay("divProgPannel",false);setDisplay("divProgPannelCus",false);try{if(getFieldByID("bdMain")!=null){getFieldByID("bdMain").scrollTop=intPgTop}}catch(ex){}}function setProgressCusMessages(){try{strHeader1=objSelFrom.text+"("+objSelFrom.value+") - ";strHeader1+=objSelTo.text+"("+objSelTo.value+")";strHeader2="Departing - ";strHeader2+=dateChk(getValue(arrControls[1][0])+"/"+getValue(arrControls[2][0]),strDDMMMMYYY);strHeader2+=" ("+getWDayText(getValue(arrControls[1][0])+"/"+getValue(arrControls[2][0]))+")";if(getValue(arrControls[0][0])=="R"){strHeader2+=" Returning  - ";strHeader2+=dateChk(getValue(arrControls[3][0])+"/"+getValue(arrControls[4][0]),strDDMMMMYYY);strHeader2+=" ("+getWDayText(getValue(arrControls[3][0])+"/"+getValue(arrControls[4][0]))+")"}}catch(e){}DivWrite('spnProgressHeader01',strHeader1);DivWrite('spnProgressHeader02',strHeader2);DivWrite('spnProgressHeader03',"We are retrieving your flight information")}function setProgressDefaultMessages(){DivWrite('spnProgressHeader03',"Please DO NOT close the browser or press 'BACK' button")}function validateInvalidChar(){var objArrControls=arrControls;var strReturn="";if(arguments.length==1){objArrControls=arguments[0]}var strChkEmpty="";var blnReturn=true;for(var i=0;i<objArrControls.length;i++){strChkEmpty=checkInvalidChar(getValue(objArrControls[i][0]),objTop.arrErr["014"],fixDblDotLabelIssue(objArrControls[i][1]));if(strChkEmpty!=""){strReturn+=buildTagError(strChkEmpty);setStyleClass(objArrControls[i][0],objArrControls[i][3]+" "+strErrClass)}}return strReturn}function pgValidateInvalidChar(){var objArrControls=arrControls;var strReturn="";if(arguments.length==1){objArrControls=arguments[0]}var strChkEmpty="";var blnReturn=true;for(var i=0;i<objArrControls.length;i++){strChkEmpty=checkInvalidChar(getValue(objArrControls[i][0]),objTop.arrErr["014"],fixDblDotLabelIssue(objArrControls[i][1]));if(strChkEmpty!=""){strReturn=strChkEmpty;setFocus(objArrControls[i][0]);break}}return strReturn}function validateEmpty(strSelectControls){var strReturn="";var objArrControls=arrControls;if(arguments.length==2){objArrControls=arguments[1]}if(strSelectControls!=""){strSelectControls=","+strSelectControls+","}var blnReturn=true;var strErr="";setTrimmedValue(objArrControls);for(var i=0;i<objArrControls.length;i++){if(objArrControls[i][2]=="Y"){if(trim(getValue(objArrControls[i][0]))==""){strErr=objTop.arrErr["001"];if(strSelectControls!=""){if(strSelectControls.indexOf(","+i+",")!=-1){strErr=objTop.arrErr["004"]}}strReturn+=buildTagError(buildError(strErr,objArrControls[i][1]));setStyleClass(objArrControls[i][0],objArrControls[i][3]+" "+strErrClass);setFocus(objArrControls[i][0])}}}return strReturn}function pgValidateEmpty(strSelectControls){var strReturn="";var objArrControls=arrControls;if(arguments.length==2){objArrControls=arguments[1]}if(strSelectControls!=""){strSelectControls=","+strSelectControls+","}var blnReturn=true;var strErr="";setTrimmedValue(objArrControls);for(var i=0;i<objArrControls.length;i++){if(objArrControls[i][2]=="Y"){if(trim(getValue(objArrControls[i][0]))==""){strErr=objTop.arrErr["001"];if(strSelectControls!=""){if(strSelectControls.indexOf(","+i+",")!=-1){strErr=objTop.arrErr["004"]}}strReturn=buildError(strErr,objArrControls[i][1]);setFocus(objArrControls[i][0]);break}}}return strReturn}function setTrimmedValue(arrControls){var objArrControls=arrControls;for(var t=0;t<objArrControls.length;t++){if(objArrControls[t][0]!=""){var objControl=getFieldByID(objArrControls[t][0]);var strType=getFieldType(objControl);if(strType=="TEXT"||strType=="TEXTAREA"){setField(objArrControls[t][0],trim(getValue(objArrControls[t][0])))}}}}function fillDropDownsDesc(arrArray,strName,filterIndex,filter,filterValue){var objLB=new listBox();objLB.dataArray=arrArray;objLB.valueIndex=0;objLB.textIndex=1;objLB.blnFirstEmpty=true;objLB.firstTextValue=strDDDefValue;objLB.firstValue="";objLB.id=strName;objLB.filterIndex=parseInt(filterIndex);objLB.filter=filter;objLB.filterValue=filterValue;objLB.fillListBox()}function loadHelp(intIndex){alert("TODO\nHelp Under Construciton")}function loadTNCPAY(){var strUrl="showPopupDetails.action?hdnSource=IBE&hdnMode=PAYMENT_CONTENT";viewRulesRegulations(strUrl)}function loadTNCINS(){if(getValue("radIns")!="N"){var strUrl="showPopupDetails.action?hdnSource=IBE&hdnMode=INSURANCE_CONTENT";viewRulesRegulations(strUrl)}}function forgotPWD(intIndex){alert("TODO\nHelp Forgot Password")}function ViewFareRules(){if((objTop.objCW)&&(!objTop.objCW.closed)){objTop.objCW.close()}try{if(arrFlightData!=null){var hdnFlightData="";for(var i=0;arrFlightData.length>i;i++){if(arrFlightData[i]!=''){hdnFlightData+=arrFlightData[i]+" ^"}}objTop.objCW=window.open("showFareRules.action?hdnFlightData="+hdnFlightData,"windowPop",getChildWindowProp(500,780,true))}else{objTop.objCW=window.open("showFareRules.action","windowPop",getChildWindowProp(500,780,true))}}catch(e){objTop.objCW=window.open("showFareRules.action","windowPop",getChildWindowProp(500,780,true))}}function viewRulesRegulations(strUrl){if((objTop.objCW)&&(!objTop.objCW.closed)){objTop.objCW.close()}objTop.objCW=window.open(strUrl,"windowPop",getChildWindowProp(300,600,true))}function closeChildWindows(){try{if((objTop.objCW)&&(!objTop.objCW.closed)){objTop.objCW.close()}}catch(e){}}function setCookie(name,value,expires,path,domain,secure){var curCookie=name+"="+escape(value)+((expires)?"; expires="+expires.toGMTString():"")+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")+((secure)?"; secure":"");document.cookie=curCookie}function getCookie(name){var dc=document.cookie;var prefix=name+"=";var begin=dc.indexOf("; "+prefix);if(begin==-1){begin=dc.indexOf(prefix);if(begin!=0)return null}else begin+=2;var end=document.cookie.indexOf(";",begin);if(end==-1)end=dc.length;return unescape(dc.substring(begin+prefix.length,end))}function buildRefNo(){DivWrite("spnRefNo",strBkgRefNo)}function isAlphaNumeric(s){return RegExp("^[a-zA-Z0-9-/]+$").test(s)}function isAlphaNumericWhiteSpace(s){return RegExp("^[a-zA-Z0-9-.;,/ \w\s]+$").test(s)}function isEmailId(s){return RegExp("^[a-zA-Z0-9-_.]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$").test(s)}function isPhoneNo(n){return RegExp("[0-9]+$").test(n)}function getCalenderEndDate(intMonths){var dtToday=new Date();if(arguments.length==2){if(arguments[1]!=""){dtToday=new Date(arguments[1].substr(6,4),Number(arguments[1].substr(3,2))-1,"01")}}var dtTD=dtToday.getDate();var strMonth=dtToday.getMonth()+new Number(intMonths);var strDay=1;var strYear=dtToday.getFullYear();var strHour=dtToday.getHours();var strMinutes=dtToday.getMinutes();var strSeconds=dtToday.getSeconds();var dtNew=new Date(strYear,strMonth,strDay,strHour,strMinutes,strSeconds);var dtNew1=addDays(dtNew,-1);var dtNM=dtNew1.getMonth()+1;var dtND=dtNew1.getDate();var dtNY=dtNew1.getFullYear();if(Number(dtTD)>getDaysInMonth(dtNM,dtNY)){dtND=getDaysInMonth(dtNM,dtNY)}if(Number(dtND)<10){dtND="0"+dtND}if(Number(dtNM)<10){dtNM="0"+dtNM}return dtND+"/"+dtNM+"/"+dtNY}function logOut(){if(confirm(strLougoutMsg)){top.location.replace("../public/showLogoutVendor.action")}}function fixDblDotLabelIssue(strLabelTxt){if(strLabelTxt.indexOf('.')==-1){return strLabelTxt}else{strLabelTxt=replaceAll(strLabelTxt,".","");return strLabelTxt}}function flightSegmentValidate(strFromDate,strFromTime,strToDate,strToTime,intDepDiff){var tempDay=strFromDate.substring(0,2);var tempMonth=strFromDate.substring(3,5);var tempYear=strFromDate.substring(6,10);var tempHH=strFromTime.substring(0,2);var tempMM=strFromTime.substring(3,5);var dtFromDateTime=new Date(tempYear,Number(tempMonth)-1,tempDay);var lFromDateTime=dtFromDateTime.getTime();lFromDateTime+=(Number(tempHH)+Number(intDepDiff))*60;lFromDateTime+=Number(tempMM);tempDay=strToDate.substring(0,2);tempMonth=strToDate.substring(3,5);tempYear=strToDate.substring(6,10);tempHH=strToTime.substring(0,2);tempMM=strToTime.substring(3,5);var dtToDateTime=new Date(tempYear,Number(tempMonth)-1,tempDay);var lToDateTime=dtToDateTime.getTime();lToDateTime+=Number(tempHH)*60;lToDateTime+=Number(tempMM);if(Number(lFromDateTime)>=Number(lToDateTime)){return false}else{return true}}function appendFarebasisCodes(strFareBasisCodes,arrFareBasis){if(arrFareBasis!=null){for(var i=0;arrFareBasis.length>i;i++){if(strFareBasisCodes==""){strFareBasisCodes=arrFareBasis[i]}else{strFareBasisCodes+="* "+arrFareBasis[i]}}}return strFareBasisCodes}function convertMinuteToHours(strMinute){var rtnString="";var intMinute=parseInt(strMinute);var intTmpMinute=Math.floor((intMinute/60));rtnString+=intTmpMinute;return rtnString}function setCheckedByID(strControlID,blnStatus){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);switch(strType){case"CHECKBOX":case"RADIO":objControl=getFieldByID(strControlID);if(objControl!=null){objControl.checked=blnStatus}break}}function DisableByID(strControlID,blnEnable){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);switch(strType){case"CHECKBOX":case"RADIO":objControl=getFieldByID(strControlID);if(objControl!=null){objControl.disabled=blnEnable}break;default:objControl.disabled=blnEnable;break}}

//common.js
function getFieldByID(strControlID){return document.getElementById(strControlID)}function getFieldByName(strControlName){return document.getElementsByName(strControlName)}function getFieldType(objControl){return objControl.type.toUpperCase()}function getText(strControlID){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);var strReturn="";switch(strType){case"TEXT":strReturn=objControl.value;break;case"PASSWORD":strReturn=objControl.value;break;case"HIDDEN":strReturn=objControl.value;break;case"TEXTAREA":strReturn=objControl.value;break;case"CHECKBOX":objControl=getFieldByName(strControlID);var intLengrh=objControl.length;for(var i=0;i<intLengrh;i++){if(objControl[i].checked){if(strReturn!=""){strReturn+=","}strReturn+=objControl[i].value}}break;case"RADIO":objControl=getFieldByName(strControlID);var intLengrh=objControl.length;for(var i=0;i<intLengrh;i++){if(objControl[i].checked){if(strReturn!=""){strReturn+=","}strReturn+=objControl[i].value}}break;case"SELECT-ONE":strReturn=objControl.options[objControl.selectedIndex].text;break;case"SELECT-MULTIPLE":var intLengrh=objControl.length;for(var i=0;i<intLengrh;i++){if(objControl.options[i].selected){if(strReturn!=""){strReturn+=","}strReturn+=objControl.options[i].text}}break}return strReturn}function getValue(strControlID){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);var strReturn="";switch(strType){case"TEXT":strReturn=objControl.value;break;case"PASSWORD":strReturn=objControl.value;break;case"HIDDEN":strReturn=objControl.value;break;case"TEXTAREA":strReturn=objControl.value;break;case"CHECKBOX":objControl=getFieldByName(strControlID);var intLength=objControl.length;if(intLength>0)for(var i=0;i<intLength;i++){if(strReturn!=""){strReturn+=","}strReturn+=objControl[i].checked}break;case"RADIO":objControl=getFieldByName(strControlID);var intLength=objControl.length;for(var i=0;i<intLength;i++){if(objControl[i].checked){if(strReturn!=""){strReturn+=","}strReturn+=objControl[i].value}}break;case"SELECT-ONE":strReturn=objControl.value;break;case"SELECT-MULTIPLE":var intLengrh=objControl.length;for(var i=0;i<intLengrh;i++){if(objControl.options[i].selected){if(strReturn!=""){strReturn+=","}strReturn+=objControl.options[i].value}}break}return strReturn}function setField(strControlID,strControlValue){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);switch(strType){case"TEXT":objControl.value=strControlValue;break;case"PASSWORD":objControl.value=strControlValue;break;case"HIDDEN":objControl.value=strControlValue;break;case"TEXTAREA":objControl.value=strControlValue;break;case"CHECKBOX":objControl=getFieldByName(strControlID);var intLength=objControl.length;if(strControlValue!=true&&strControlValue!=false){var arrConValue=strControlValue.split(",");var intArrLength=arrConValue.length;if(strControlValue==""){for(var i=0;i<intLength;i++){objControl[i].checked=false}}for(var x=0;x<intArrLength;x++){for(var i=0;i<intLength;i++){if(objControl[i].value==arrConValue[x]){if(!objControl[i].disabled){objControl[i].checked=true}break}}}}else{for(var i=0;i<intLength;i++){if(!objControl[i].disabled){objControl[i].checked=strControlValue}}}break;case"RADIO":objControl=getFieldByName(strControlID);var intLengrh=objControl.length;if(strControlValue==""){for(var i=0;i<intLengrh;i++){objControl[i].checked=false}}for(var i=0;i<intLengrh;i++){if(objControl[i].value==strControlValue){objControl[i].checked=true;break}}break;case"SELECT-ONE":var intLengrh=objControl.length;for(var i=0;i<intLengrh;i++){if(objControl.options[i].value==strControlValue){objControl.options[i].selected=true;break}}break;case"SELECT-MULTIPLE":var intLengrh=objControl.length;var arrConValue=strControlValue.split(",");var intArrLength=arrConValue.length;if(strControlValue==""){for(var i=0;i<intLengrh;i++){objControl.options[i].selected=false}}for(var x=0;x<intArrLength;x++){for(var i=0;i<intLengrh;i++){if(objControl.options[i].value==arrConValue[x]){objControl.options[i].selected=true;break}}}break}}function setBGColor(strControlID,strColor){var objControl=getFieldByID(strControlID);objControl.style.backgroundColor=strColor}function setLinkUrl(strControlID,strNavigateURL){var objControl=getFieldByID(strControlID);objControl.href=strNavigateURL}function setStyleClass(strControlID,strClassName){var objControl=getFieldByID(strControlID);objControl.className=strClassName}function getStyleClass(strControlID){var objControl=getFieldByID(strControlID);return objControl.className}function divWrite(strDivID,strText){var objControl;if(document.getElementById){objControl=document.getElementById(strDivID);objControl.innerHTML="";objControl.innerHTML=strText}else if(document.all){objControl=document.all[strDivID];objControl.innerHTML=strText}else if(document.layers){objControl=document.layers[strDivID];objControl.document.open();objControl.document.write(strText);objControl.document.close()}}function divRead(strDivID){var objControl;if(document.getElementById){objControl=document.getElementById(strDivID);return objControl.innerHTML}else if(document.all){objControl=document.all[strDivID];return objControl.innerHTML}else if(document.layers){return""}}function setImage(strImageID,strImagePath){var objControl=getFieldByID(strImageID);objControl.src=strImagePath}function setBGImage(strID,strImagePath){var objControl=getFieldByID(strID);objControl.style.backgroundImage="url("+strImagePath+")"}function setVisible(strControlID,blnVisible){var objControl=getFieldByID(strControlID);if(!blnVisible){objControl.style.visibility="hidden"}else{objControl.style.visibility="visible"}}function getVisible(strControlID){var objControl=getFieldByID(strControlID);if(objControl.style.visibility=="visible"){return true}else{return false}}function setDisplay(strControlID,blnVisible){var objControl=getFieldByID(strControlID);if(!blnVisible){objControl.style.display="none"}else{objControl.style.display="block"}}function getDisplay(strControlID){var objControl=getFieldByID(strControlID);if(objControl.style.display=="block"){return true}else{return false}}function setChecked(strControlID,blnStatus){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);var intLen=0;var i=0;switch(strType){case"CHECKBOX":case"RADIO":objControl=getFieldByID(strControlID);if(objControl!=null){objControl.checked=blnStatus}break}}function getChecked(strControlID){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);var blnStatus=false;switch(strType){case"CHECKBOX":if(objControl.checked){blnStatus=true}break}return blnStatus}function readOnly(strControlID,blnEnable){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);switch(strType){case"TEXT":objControl.readOnly=blnEnable;break;case"PASSWORD":objControl.readOnly=blnEnable;break;case"TEXTAREA":objControl.readOnly=blnEnable;break}}function setDisable(strControlID,blnStatus){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);var intLen=0;var i=0;switch(strType){case"CHECKBOX":case"RADIO":objControl=getFieldByName(strControlID);intLen=objControl.length;if(intLen>0){i=0;do{objControl[i].disabled=blnStatus;i++}while(--intLen)}break;default:objControl.disabled=blnStatus;break}}function getDisable(strID){return getFieldByID(strID).disabled}function setZIndex(strControlID,intIndex){var objControl=getFieldByID(strControlID);objControl.style.zIndex=intIndex}function setCursor(strControlID,strCursor){var objControl=getFieldByID(strControlID);objControl.style.cursor=strCursor}function MaxLength(objControl,objEvent,intLen){if((objEvent.keyCode==9)||(objEvent.keyCode==46)||(objEvent.keyCode==8)||(objEvent.keyCode==37)||(objEvent.keyCode==38)||(objEvent.keyCode==39)||(objEvent.keyCode==40)){return true}else{if(objControl.value.length>=intLen){var strValue=objControl.value;objControl.value=strValue.substr(0,intLen);return false}}return true}function raiseError(strErrNo){var strMsg=arrError[strErrNo];if(arguments.length>1){for(var i=0;i<arguments.length-1;i++){strMsg=strMsg.replace("#"+(i+1),arguments[i+1])}}return strMsg}function buildError(strMessage){if(arguments.length>1){for(var i=0;i<arguments.length-1;i++){strMessage=strMessage.replace("#"+(i+1),arguments[i+1])}strMessage=strMessage}return strMessage}function checkInvalidChar(strValue,strMessage,strControlText){var strChkEmpty=FindChar(strValue);if(strChkEmpty!="0"){return buildError(strMessage,strChkEmpty[0],fixDblDotLabelIssue(strControlText))}else{return""}}function FindChar(StringIn){var CharInArray=new Array("'","<",">","^",'"',"~","--");var CharOutArray=new Array();for(var i=0;i<StringIn.length;i++){switch(StringIn.charCodeAt(i)){case 92:CharOutArray[0]="\\ ";CharOutArray[1]=eval(i+1);return(CharOutArray);break;case 8216:case 8217:CharOutArray[0]="' ";CharOutArray[1]=eval(i+1);return(CharOutArray);break;default:for(var j=0;j<CharInArray.length;j++){if(StringIn.charAt(i)==CharInArray[j]){CharOutArray[0]=CharInArray[j];CharOutArray[1]=eval(i+1);return(CharOutArray)}}break}}for(var j=0;j<CharInArray.length;j++){if(StringIn.indexOf(CharInArray[j])!=-1){CharOutArray[0]=CharInArray[j]+" ";CharOutArray[1]=StringIn.indexOf(CharInArray[j]);return(CharOutArray)}}return"0"}function disablePage(){return true}function rightTrim(strValue){var objRegExp=/^([\w\W]*)(\b\s*)$/;if(objRegExp.test(strValue)){strValue=strValue.replace(objRegExp,'$1')}return strValue}function leftTrim(strValue){var objRegExp=/^(\s*)(\b[\w\W]*)$/;if(objRegExp.test(strValue)){strValue=strValue.replace(objRegExp,'$2')}return strValue}function trim(strValue){var objRegExp=/^(\s*)$/;if(objRegExp.test(strValue)){strValue=strValue.replace(objRegExp,'');if(strValue.length==0)return strValue}objRegExp=/^(\s*)([\W\w]*)(\b\s*$)/;if(objRegExp.test(strValue)){strValue=strValue.replace(objRegExp,'$2')}return strValue}function replaceAll(strValue,strRepValue,strNValue){strRepValue="/"+"\\"+strRepValue+"/"+"g";strValue=strValue.replace(eval(strRepValue),strNValue);return strValue}function clearCache(){try{window.clipboardData.clearData()}catch(ex){}}function converToTitleCase(strValue){var arrValues=strValue.split(" ");strValue="";var strFC="";var strOC="";for(var i=0;i<arrValues.length;i++){strOC="";if(strValue!=""){strValue+=" "}arrValues[i]=trim(arrValues[i]);arrValues[i]=arrValues[i].toLowerCase();strFC=arrValues[i].substr(0,1).toUpperCase();if(arrValues[i].length>1){strOC=arrValues[i].substr(1,arrValues[i].length-1).toLowerCase()}strValue+=strFC+strOC}return strValue}function arrayClone(arrSource,arrTarget){arrTarget.length=0;for(var i=0;i<arrSource.length;i++){arrTarget[i]=new Array();for(var m=0;m<arrSource[i].length;m++){arrTarget[i][m]=arrSource[i][m]}}}function keyArrayClone(objArray,objTarget){objTarget=new Array();for(var key in objArray){if(objArray[key]!=null){objTarget[key]=objArray[key]}}return objTarget}function setFocus(id){var objControl=getFieldByName(id);var intLength=objControl.length;if(intLength>1){objControl[0].focus()}else{document.getElementById(id).focus()}}function convertAjaxData(strValue){strValue=strValue.replace(/\+/g,'%2B');return strValue}var reqObj;function retrieveURL(url){if(window.XMLHttpRequest){reqObj=new XMLHttpRequest();reqObj.onreadystatechange=processStateChange;try{reqObj.open("GET",url,true)}catch(e){showERRMessage(e)}reqObj.send(null)}else if(window.ActiveXObject){reqObj=new ActiveXObject("Microsoft.XMLHTTP");if(reqObj){reqObj.onreadystatechange=processStateChange;reqObj.open("GET",url,true);reqObj.send()}}}var httpReq=false;function makePOST(url,params){httpReq=false;if(window.XMLHttpRequest){httpReq=new XMLHttpRequest()}else if(window.ActiveXObject){try{httpReq=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}if(!httpReq){alert('Cannot create XMLHTTP instance');return false}params=convertAjaxData(params);httpReq.onreadystatechange=processStateChange;httpReq.open('POST',url,true);httpReq.setRequestHeader("Content-type","application/x-www-form-urlencoded");httpReq.setRequestHeader("Content-length",params.length);httpReq.setRequestHeader("Connection","close");httpReq.send(params);try{if(top.strTopPage){ResetTimeOut()}}catch(e){}}function makeGet(url){if(window.XMLHttpRequest){httpReq=new XMLHttpRequest()}else if(window.ActiveXObject){httpReq=new ActiveXObject("Microsoft.XMLHTTP")}if(httpReq){url=convertAjaxData(url);httpReq.onreadystatechange=processStateChange;httpReq.open("GET",url,true);httpReq.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT");httpReq.send(null)}try{if(top.strTopPage){ResetTimeOut()}}catch(e){}}function getChildWindowProp(intHeigh,intWidth){var intTop=(window.screen.height-intHeigh)/2;var intLeft=(window.screen.width-intWidth)/2;var strScroll="no";if(arguments.length>2){if(arguments[2]==true){strScroll="yes"}}var strProp='toolbar=no,'+'location=no,'+'status=no,'+'menubar=no,'+'scrollbars='+strScroll+','+'width='+intWidth+','+'height='+intHeigh+','+'resizable=no,'+'top='+intTop+','+'left='+intLeft;return strProp}function fillChar(strValue,intLength,strChar){strValue=trim(String(strValue));var intVLength=strValue.length;var strZero="";for(var i=intVLength;i<intLength;i++){strZero+=strChar}return String(strZero)+String(strValue)}function sortArray(intColumn,strOrder,strArrayName){strArrayName=eval(strArrayName);var intCount=strArrayName.length;for(var a=1;a=1;){var blnFound=false;for(var i=0;i<intCount;i++){if((i+1)<intCount){var strCompareValue=String(strArrayName[i][intColumn]);var strCompareTo=String(strArrayName[i+1][intColumn]);var arrMTemp;var arrTemp;var strLastValues="";if(String(strCompareValue).indexOf('/')!=-1){arrMTemp=strCompareValue.split(" ");arrTemp=arrMTemp[0].split("/");if(arrTemp.length==3){if(arrTemp[2].length==4&&arrTemp[1].length==2&&arrTemp[0].length==2){strLastValues="";if(arrMTemp.length==2){strLastValues=arrMTemp[1].replace(":","")}strCompareValue=String(arrTemp[2])+String(arrTemp[1])+String(arrTemp[0])+strLastValues}}}if(strCompareValue.indexOf(',')!=-1){strCompareValue=strCompareValue.replace(',',"")}if(strCompareTo.indexOf('/')!=-1){arrMTemp=strCompareTo.split(" ");arrTemp=arrMTemp[0].split("/");if(arrTemp.length==3){strLastValues="";if(arrMTemp.length==2){strLastValues=arrMTemp[1].replace(":","")}strCompareTo=String(arrTemp[2])+String(arrTemp[1])+String(arrTemp[0])+strLastValues}}if(strCompareTo.indexOf(',')!=-1){strCompareTo=strCompareTo.replace(',',"")}if(!isNaN(Number(strCompareValue))){strCompareValue=Number(strCompareValue)}else{strCompareValue=strArrayName[i][intColumn]}if(!isNaN(Number(strCompareTo))){strCompareTo=Number(strCompareTo)}else{strCompareTo=strArrayName[i+1][intColumn]}if(strOrder.toUpperCase()=="ASC"){if(strCompareValue>strCompareTo){var arrCurrData=new Array();var intarrColumns=strArrayName[i].length;for(var x=0;x<intarrColumns;x++){arrCurrData[x]=strArrayName[i][x]}for(var x=0;x<intarrColumns;x++){strArrayName[i][x]=strArrayName[i+1][x]}for(var x=0;x<intarrColumns;x++){strArrayName[i+1][x]=arrCurrData[x]}blnFound=true}}else{if(strCompareValue<strCompareTo){var arrCurrData=new Array();var intarrColumns=strArrayName[i].length;for(var x=0;x<intarrColumns;x++){arrCurrData[x]=strArrayName[i][x]}for(var x=0;x<intarrColumns;x++){strArrayName[i][x]=strArrayName[i+1][x]}for(var x=0;x<intarrColumns;x++){strArrayName[i+1][x]=arrCurrData[x]}blnFound=true}}}}if(blnFound==false){break}}}function checkKeyArrayAvailable(objArray){var blnReturn=false;for(var key in objArray){blnReturn=true}return blnReturn}function getArrayCodes(objArray,intIndex,strID,intElement){var strReturn="";for(var i=0;i<objArray.length;i++){if(objArray[i][intIndex]==strID){strReturn=objArray[i][intElement];break}}return strReturn}function getMouseX(objEvent){var x=0;if(browser.isIE){x=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft}else{if(navigator.userAgent.indexOf("Safari")!=-1){x=objEvent.clientX}else if(navigator.userAgent.indexOf("Konqueror")!=-1){x=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft}else if(navigator.userAgent.indexOf("Opera")!=-1){x=objEvent.clientX}else{x=objEvent.clientX+window.scrollX}}return x}function getMouseY(objEvent){var y=0;if(browser.isIE){y=window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop}else{if(navigator.userAgent.indexOf("Safari")!=-1){y=objEvent.clientY}else if(navigator.userAgent.indexOf("Konqueror")!=-1){y=window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop}else if(navigator.userAgent.indexOf("Opera")!=-1){y=objEvent.clientY+document.documentElement.scrollTop}else{y=objEvent.clientY+window.scrollY}}return y}function selectAll(strID){getFieldByID(strID).select()}function getPageHeight(){var y;if(self.innerHeight){y=self.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){y=document.documentElement.clientHeight}else if(document.body){y=document.body.clientHeight}return y}function getPageWidth(){var x;if(self.innerWidth){x=self.innerWidth}else if(document.documentElement&&document.documentElement.clientWidth){x=document.documentElement.clientWidth}else if(document.body){x=document.body.clientWidth}return x}function getPageInnerHeight(){var intPgHt=null;if(window.innerHeight&&window.scrollMaxY){intPgHt=window.innerHeight+window.scrollMaxY}else if(document.body.scrollHeight>document.body.offsetHeight){intPgHt=document.body.scrollHeight}else{intPgHt=document.body.offsetHeight+document.body.offsetTop}return intPgHt}function getPageInnerWidth(){var intPgWt=null;if(window.innerWidth&&window.scrollMaxX){intPgWt=window.innerWidth+window.scrollMaxX}else if(document.body.scrollWidth>document.body.offsetWidth){intPgWt=document.body.scrollWidth}else{intPgWt=document.body.offsetWidth+document.body.offsetLeft}return intPgWt}function getMouseButtonClick(objEvent){var intBtn=null;if(browser.isIE){objEvent=window.event}intBtn=objEvent.button;return intBtn}function setTabIndex(strControlID,intIndex){getFieldByID(strControlID).tabIndex=intIndex}function appendElement(strHolder,strID,strObjectString){if(String(strID)!=""){var newDiv=document.createElement('div');if(getFieldByID(strID)==null){newDiv.setAttribute("id",strID);newDiv.innerHTML=strObjectString;getFieldByID(strHolder).appendChild(newDiv)}}}function removeElement(strHolder,strID){var d=document.getElementById(strHolder);try{var olddiv=getFieldByID(strID);if(getFieldByID(strID)!=null){d.removeChild(olddiv)}}catch(ex){}}function getLeft(strID){return getFieldByID(strID).offsetLeft}function getTop(strID){return getFieldByID(strID).offsetTop}function getHeight(strID){return getFieldByID(strID).offsetHeight}function getWidth(strID){return getFieldByID(strID).offsetWidth}function DivWrite(strDivID,strText){var objControl;if(document.getElementById){objControl=document.getElementById(strDivID);objControl.innerHTML="";objControl.innerHTML=strText}else if(document.all){objControl=document.all[strDivID];objControl.innerHTML=strText}else if(document.layers){objControl=document.layers[strDivID];objControl.document.open();objControl.document.write(strText);objControl.document.close()}}function DivRead(strDivID){var objControl;if(document.getElementById){objControl=document.getElementById(strDivID);return objControl.innerHTML}else if(document.all){objControl=document.all[strDivID];return objControl.innerHTML}else if(document.layers){return""}}function ReadOnly(strControlID,blnEnable){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);switch(strType){case"TEXT":objControl.readOnly=blnEnable;break;case"PASSWORD":objControl.readOnly=blnEnable;break;case"TEXTAREA":objControl.readOnly=blnEnable;break}}function Disable(strControlID,blnEnable){var objControl=getFieldByID(strControlID);var strType=getFieldType(objControl);switch(strType){case"CHECKBOX":objControl=getFieldByName(strControlID);var intLengrh=objControl.length;for(var i=0;i<intLengrh;i++){objControl[i].disabled=blnEnable}break;case"RADIO":objControl=getFieldByID(strControlID);if(objControl!=null){objControl.disabled=blnEnable}break;default:objControl.disabled=blnEnable;break}}function replaceall(strValue,strRepValue,strNValue){var i=strValue.indexOf(strRepValue);while(i>-1){strValue=strValue.replace(strRepValue,strNValue);i=strValue.indexOf(strRepValue)}return strValue}function ClearCache(){try{window.clipboardData.clearData()}catch(ex){}}function CloseChildWindow(){try{if((top.objCW)&&(!top.objCW.closed)){top.objCW.close()}}catch(ex){}}function getDisabled(strID){return getFieldByID(strID).disabled}

//autoDate.js
function dateChk(strID){var arrMonth=["January","February","March","April","May","June","July","August","September","October","November","December"];var dtToday=new Date();var dtCurrD=dtToday.getDate();var dtCurrM=(dtToday.getMonth()+1);var dtCurrY=dtToday.getFullYear();var objC=document.getElementById(strID);var strEValue="";if(objC==null){strEValue=strID}else{strEValue=objC.value}var blnReturn=true;var dtCreatD=dtCurrD;var dtCreatM=dtCurrM;var dtCreatY=dtCurrY;strEValue=replaceall(strEValue,"/","^");strEValue=replaceall(strEValue,"-","^");strEValue=replaceall(strEValue,".","^");strEValue=replaceall(strEValue," ","^");if(strEValue.indexOf("^")!=-1){var arrDts=strEValue.split("^");switch(arrDts.length){case 1:if(String(arrDts[0])!=""){dtCreatD=arrDts[0]}break;case 2:if(String(arrDts[0])!=""){dtCreatD=arrDts[0]}if(String(arrDts[1])!=""){dtCreatM=arrDts[1]}break;case 3:if(String(arrDts[0])!=""){dtCreatD=arrDts[0]}if(String(arrDts[1])!=""){dtCreatM=arrDts[1]}if(String(arrDts[2])!=""){dtCreatY=arrDts[2]}break}}else{var intCLength=strEValue.length;for(var i=0;i<intCLength;i++){if(i<=1){if(i==0){dtCreatD=""}dtCreatD+=strEValue.substr(i,1)}if(i>1&&i<=3){if(i==2){if(intCLength>=4){dtCreatM="";dtCreatM+=strEValue.substr(i,1)}else{if(strEValue.substr(i,1)!=0){dtCreatM="";dtCreatM+=strEValue.substr(i,1)}}}else{dtCreatM+=strEValue.substr(i,1)}}if(i>3&&i<=7){if(i==4){dtCreatY=""}dtCreatY+=strEValue.substr(i,1)}}}if(!validDate(dtCreatD,dtCreatM,dtCreatY)){switch(strEValue.length){case 2:if(Number(strEValue.substr(0,1))>0){dtCreatD=strEValue.substr(0,1)}if(Number(strEValue.substr(1,1))>0){dtCreatM=strEValue.substr(1,1)}break;case 3:if(Number(strEValue.substr(1,2))<=12){if(Number(strEValue.substr(0,1))>0){dtCreatD=strEValue.substr(0,1)}if(Number(strEValue.substr(1,2))>0){dtCreatM=strEValue.substr(1,2)}}else{if(Number(strEValue.substr(0,1))>0){dtCreatD=strEValue.substr(0,1)}if(Number(strEValue.substr(1,1))>0){dtCreatM=strEValue.substr(1,1)}if(Number(strEValue.substr(2,1))>0){dtCreatY=strEValue.substr(2,1)}}case 4:if(Number(strEValue.substr(1,2))<=12){if(Number(strEValue.substr(0,1))>0){dtCreatD=strEValue.substr(0,1)}if(Number(strEValue.substr(1,2))>0){dtCreatM=strEValue.substr(1,2)}if(Number(strEValue.substr(3,1))>0){dtCreatY=strEValue.substr(3,1)}}else{if(Number(strEValue.substr(0,1))>0){dtCreatD=strEValue.substr(0,1)}if(Number(strEValue.substr(1,1))>0){dtCreatM=strEValue.substr(1,1)}if(Number(strEValue.substr(2,2))>0){dtCreatY=strEValue.substr(2,2)}}break;default:if(objC==null){return""}else{blnReturn=false}break}}if(!validDate(dtCreatD,dtCreatM,dtCreatY)){if(objC==null){return""}else{blnReturn=false}}if(blnReturn&&strEValue!=""){if(dtCreatY.length<4){dtCreatY=String(dtCurrY).substr(0,(String(dtCurrY).length-dtCreatY.length))+dtCreatY}else if(dtCreatY.length>4){dtCreatY=String(dtCurrY).substr(0,4)}var strFormat="dd/mm/yyyy";if(arguments.length==2){if(arguments[1]!=""){strFormat=arguments[1]}}var strDefSep="";var arrSep=new Array("/","-"," ",".");for(var i=0;i<arrSep.length;i++){if(strFormat.indexOf(arrSep[i])!=-1){strDefSep=arrSep[i];break}}if(strDefSep==""){if(objC==null){return""}else{blnReturn=false}}var strReturnDt="";if(Number(dtCreatD)<10){dtCreatD="0"+Number(dtCreatD)};if(Number(dtCreatM)<10){dtCreatM="0"+Number(dtCreatM)};var strFormat1="DD"+strDefSep+"MM"+strDefSep+"YYYY";var strFormat2="DD"+strDefSep+"MM"+strDefSep+"YY";var strFormat3="DD"+strDefSep+"MMM"+strDefSep+"YYYY";var strFormat4="DD"+strDefSep+"MMM"+strDefSep+"YY";var strFormat5="DD"+strDefSep+"MMMM"+strDefSep+"YYYY";var strFormat6="DD"+strDefSep+"MMMM"+strDefSep+"YY";var strFormat7="MM"+strDefSep+"YYYY";var strFormat8="MM"+strDefSep+"YY";var strFormat9="MMM"+strDefSep+"YYYY";var strFormat10="MMM"+strDefSep+"YY";var strFormat11="MMMM"+strDefSep+"YYYY";var strFormat12="MMMM"+strDefSep+"YY";var strFormat13="DD"+strDefSep+"MMM";var strDW="th";var strCM=",";if((dtCreatD=="01")||(dtCreatD=="21")||(dtCreatD=="31")){strDW="st"}if((dtCreatD=="02")||(dtCreatD=="22")){strDW="nd"}if((dtCreatD=="03")||(dtCreatD=="23")){strDW="rd"}if(strDefSep!=" "){strDW="";strCM=""}switch(strFormat.toUpperCase()){case strFormat1:strReturnDt=dtCreatD+strDefSep+dtCreatM+strDefSep+dtCreatY;break;case strFormat2:strReturnDt=dtCreatD+strDefSep+dtCreatM+strDefSep+String(dtCreatY).substr(2,2);break;case strFormat3:strReturnDt=dtCreatD+strDefSep+arrMonth[Number(dtCreatM)-1].substr(0,3)+strDefSep+dtCreatY;blnReturn=true;break;case strFormat4:strReturnDt=dtCreatD+strDefSep+arrMonth[Number(dtCreatM)-1].substr(0,3)+strDefSep+String(dtCreatY).substr(2,2);blnReturn=true;break;case strFormat5:strReturnDt=dtCreatD+strDW+strDefSep+arrMonth[Number(dtCreatM)-1]+strCM+strDefSep+dtCreatY;blnReturn=true;break;case strFormat6:strReturnDt=dtCreatD+strDW+strDefSep+arrMonth[Number(dtCreatM)-1]+strCM+strDefSep+String(dtCreatY).substr(2,2);blnReturn=true;break;case strFormat7:strReturnDt=dtCreatM+strDefSep+dtCreatY;break;case strFormat8:strReturnDt=dtCreatM+strDefSep+String(dtCreatY).substr(2,2);break;case strFormat9:strReturnDt=arrMonth[Number(dtCreatM)-1].substr(0,3)+strDefSep+dtCreatY;blnReturn=true;break;case strFormat10:strReturnDt=arrMonth[Number(dtCreatM)-1].substr(0,3)+strDefSep+String(dtCreatY).substr(2,2);blnReturn=true;break;case strFormat11:strReturnDt=arrMonth[Number(dtCreatM)-1]+strCM+strDefSep+dtCreatY;blnReturn=true;break;case strFormat12:strReturnDt=arrMonth[Number(dtCreatM)-1]+strCM+strDefSep+String(dtCreatY).substr(2,2);blnReturn=true;break;case strFormat13:strReturnDt=dtCreatD+strDefSep+arrMonth[Number(dtCreatM)-1].substr(0,3);blnReturn=true;break}if(objC==null){return strReturnDt}else{objC.value=strReturnDt}}return blnReturn;function replaceall(strValue,strRepValue,strNValue){var i=strValue.indexOf(strRepValue);while(i>-1){strValue=strValue.replace(strRepValue,strNValue);i=strValue.indexOf(strRepValue)}return strValue}function validDate(dtD,dtM,dtY){if((isNaN(dtD))||(isNaN(dtM))||(isNaN(dtY))){return false}if((Number(dtD)==0)||(Number(dtM)==0)||(Number(dtY)==0)){return false}if(Number(dtM)>12){return false}if(Number(dtD)>getDaysInMonth(dtM,dtY)){return false}return true}}function addMonths(intMonths){var dtToday=new Date();if(arguments.length==2){if(arguments[1]!=""){dtToday=new Date(arguments[1].substr(6,4),Number(arguments[1].substr(3,2))-1,arguments[1].substr(0,2))}}var dtTD=dtToday.getDate();var strMonth=dtToday.getMonth()+new Number(intMonths);var strDay=1;var strYear=dtToday.getFullYear();var strHour=dtToday.getHours();var strMinutes=dtToday.getMinutes();var strSeconds=dtToday.getSeconds();var dtNew=new Date(strYear,strMonth,strDay,strHour,strMinutes,strSeconds);var dtNM=dtNew.getMonth()+1;var dtND=dtNew.getDate();var dtNY=dtNew.getFullYear();if(Number(dtTD)>getDaysInMonth(dtNM,dtNY)){dtND=getDaysInMonth(dtNM,dtNY)}else{dtND=dtTD}if(Number(dtND)<10){dtND="0"+dtND}if(Number(dtNM)<10){dtNM="0"+dtNM}return dtND+"/"+dtNM+"/"+dtNY}function CheckDates(tempIStartDate,tempIEndDate){var tempDay;var tempMonth;var tempYear;tempDay=tempIStartDate.substring(0,2);tempMonth=tempIStartDate.substring(3,5);tempYear=tempIStartDate.substring(6,10);var tempOStartDate=(tempYear+tempMonth+tempDay);tempDay=tempIEndDate.substring(0,2);tempMonth=tempIEndDate.substring(3,5);tempYear=tempIEndDate.substring(6,10);var tempOEndDate=(tempYear+tempMonth+tempDay);if(arguments.length==2){if(tempOEndDate>=tempOStartDate){return true}else{return false}}else{if(arguments[2]==true){if(tempOEndDate>tempOStartDate){return true}else{return false}}}}function CheckDateTime(tempIStartDateTime,tempIEndDateTime){var tempDay;var tempMonth;var tempYear;tempDay=tempIStartDateTime.substring(0,2);tempMonth=tempIStartDateTime.substring(3,5);tempYear=tempIStartDateTime.substring(6,10);tempHH=tempIStartDateTime.substring(11,13);tempMM=tempIStartDateTime.substring(14,16);var tempOStartDate=(tempYear+tempMonth+tempDay+tempHH+tempMM);tempDay=tempIEndDateTime.substring(0,2);tempMonth=tempIEndDateTime.substring(3,5);tempYear=tempIEndDateTime.substring(6,10);tempHH=tempIEndDateTime.substring(11,13);tempMM=tempIEndDateTime.substring(14,16);var tempOEndDate=(tempYear+tempMonth+tempDay+tempHH+tempMM);if(arguments.length==2){if(tempOEndDate>=tempOStartDate){return true}else{return false}}else{if(arguments[2]==true){if(tempOEndDate>tempOStartDate){return true}else{return false}}}}function addDays(dtDate,intDays){return new Date(dtDate.getTime()+Number(intDays)*24*60*60*1000)}function dateValidDate(strDate){var dtD=strDate.substring(0,2);var dtM=strDate.substring(3,5);var dtY=strDate.substring(6,10);if((isNaN(dtD))||(isNaN(dtM))||(isNaN(dtY))){return false}if((Number(dtD)==0)||(Number(dtM)==0)||(Number(dtY)==0)){return false}if(Number(dtM)>12){return false}if(Number(dtD)>getDaysInMonth(dtM,dtY)){return false}return true}function ageCalculate(strDOB){var dd=strDOB.substr(0,2);var mm=strDOB.substr(3,2);var yy=strDOB.substr(6,4);var days=new Date();if(arguments.length==2){if(arguments[1]!=""){days=new Date(arguments[1].substr(6,4),Number(arguments[1].substr(3,2))-1,arguments[1].substr(0,2))}}var gdate=days.getDate();var gmonth=days.getMonth();var gyear=days.getFullYear();var age=gyear-yy;if((mm==(gmonth+1))&&(dd<=parseInt(gdate))){age=age}else{if(mm<=(gmonth)){age=age}else{age=age-1}}if(age==gyear){age=0}return age}function getDaysInMonth(month,year){var days;if(month==1||month==3||month==5||month==7||month==8||month==10||month==12)days=31;else if(month==4||month==6||month==9||month==11)days=30;else if(month==2){if(isLeapYear(year)){days=29}else{days=28}}return(days)}function getWDay(strD){var arrW=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat");var dtDate=new Date(strD.substr(6,4),Number(strD.substr(3,2))-1,strD.substr(0,2));return arrW[dtDate.getDay()]}function getWDayText(strD){var arrW=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");var dtDate=new Date(strD.substr(6,4),Number(strD.substr(3,2))-1,strD.substr(0,2));return arrW[dtDate.getDay()]}function isLeapYear(Year){if(((Year%4)==0)&&((Year%100)!=0)||((Year%400)==0)){return(true)}else{return(false)}}function StringToDate(strDate){var strDay=strDate.substring(0,2);var strMonth=strDate.substring(3,5);var strYear=strDate.substring(6,10);var dtDate=new Date(strYear,Number(strMonth)-1,strDay);return dtDate}function StringToDateTime(startDate){var Day;var Month;var Year;var Hour;var MM;Day=startDate.substring(0,2);Month=startDate.substring(3,5);Month--;Year=startDate.substring(6,10);Hour=startDate.substring(11,13);MM=startDate.substring(14,16);DateObj=new Date(Year,Month,Day,Hour,MM,'00');return(DateObj)}function DateToString(dtdate){var dtCM=dtdate.getMonth()+1;var dtCD=dtdate.getDate();if(dtCM<10){dtCM="0"+dtCM}if(dtCD<10){dtCD="0"+dtCD}return dtCD+"/"+dtCM+"/"+dtdate.getFullYear()}function dateConvertToMMDD(strDate){if(strDate!=""){var strDay=strDate.substring(0,2);var strMonth=strDate.substring(3,5);var strYear=strDate.substring(6,10);strDate=strMonth+"/"+strDay+"/"+strYear}return strDate}function ageCompare(strDOB,strDate,intAge){var arrAge=computeAge(strDOB,strDate).split("/");var blnReturn=true;if(Number(arrAge[2])>intAge){blnReturn=false}if(blnReturn){if(Number(arrAge[2])==intAge){if((Number(arrAge[0])==0)&&(Number(arrAge[1])==0)){blnReturn=true}else{blnReturn=false}}}return blnReturn;function computeAge(strDOB,strCDate){var yd=Number(strCDate.substr(6,4));var md=Number(strCDate.substr(3,2));var dd=Number(strCDate.substr(0,2));var yb=Number(strDOB.substr(6,4));var mb=Number(strDOB.substr(3,2));var db=Number(strDOB.substr(0,2));var mLength=0;var isJulian=0;var ma=0;var ya=0;var da=dd-db;if(da<0){md--;if(md<1){yd--;if(mLength){md=md+parseInt(365/mLength)}else{md=md+12}}if(mLength==0){ml=getMonthLength(md,yd,isJulian);da=da+ml}else{da+=mLength}}ma=md-mb;if(ma<0){yd--;if(mLength!=0){ma=ma+parseInt(365/mLength)}else{ma=ma+12}}ya=yd-yb;return da+"/"+ma+"/"+ya;function getMonthLength(month,year,julianFlag){var ml;if(month==1||month==3||month==5||month==7||month==8||month==10||month==12){ml=31}else{if(month==2){ml=28;if(!(year%4)&&(julianFlag==1||year%100||!(year%400)))ml++}else{ml=30}}return ml}}}function CheckDateTime(strFromDate,strFromTime,strToDate,strToTime){var tempDay;var tempMonth;var tempYear;var strFromTime=strFromTime.replace(":","");var strToTime=strToTime.replace(":","");tempDay=strFromDate.substring(0,2);tempMonth=strFromDate.substring(3,5);tempYear=strFromDate.substring(6,10);var tempOStartDate=(tempYear+tempMonth+tempDay)+strFromTime;tempDay=strToDate.substring(0,2);tempMonth=strToDate.substring(3,5);tempYear=strToDate.substring(6,10);var tempOEndDate=(tempYear+tempMonth+tempDay)+strToTime;if(tempOEndDate>=tempOStartDate){return true}else{return false}}function calculateDays(strStartDate,strEndDate){strStartDate=strStartDate.split("/");strEndDate=strEndDate.split("/");var sDate=new Date(strStartDate[1]+"/"+strStartDate[0]+"/"+strStartDate[2]);var eDate=new Date(strEndDate[1]+"/"+strEndDate[0]+"/"+strEndDate[2]);var intDays=Math.abs(Math.round((sDate-eDate)/86400000))+1;return intDays}function calculateDateDiff(strFromDate,strToDate){var date1=new Date(strFromDate);var date2=new Date(strToDate);var sec=date2.getTime()-date1.getTime();if(isNaN(sec)){return""}if(sec<0){return""}var second=1000,minute=60*second,hour=60*minute,day=24*hour;var days=Math.floor(sec/day);sec-=days*day;var hours=Math.floor(sec/hour);sec-=hours*hour;var minutes=Math.floor(sec/minute);sec-=minutes*minute;var seconds=Math.floor(sec/second);return days+"/"+hours+"/"+minutes+"/"+seconds}

//validations.js
function validateUSPhone(strValue){var objRegExp=/^\([1-9][0-9]{2}\)\s?[0-9]{3}\-[0-9]{4}$/;return objRegExp.test(strValue)}function isNumeric(strValue){var objRegExp=/(^-?[0-9][0-9]*\.[0-9]*$)|(^-?[0-9][0-9]*$)|(^-?\.[0-9][0-9]*$)/;return objRegExp.test(strValue)}function validateInteger(strValue){var objRegExp=/(^-?[0-9][0-9]*$)/;return objRegExp.test(strValue)}function validateValue(strValue,strMatchPattern){var objRegExp=new RegExp(strMatchPattern);return objRegExp.test(strValue)}function currencyValidate(strValue,nValue,nDecimal){var strNValue="*";var strDValue="*";var strPattern="";if(nValue!=""){strNValue="{0,"+nValue+"}"}if(nDecimal!=""){strDValue="{0,"+nDecimal+"}"}strPattern="(^-?[0-9]"+strNValue+"\\.[0-9]"+strDValue+"$)|(^-?[0-9]"+strNValue+"$)|(^-?\\.[0-9]"+strDValue+"$)";return validateValue(strValue,strPattern)}function isEmpty(s){return(trim(s).length==0)}function hasWSpace(s){return RegExp("^\s*$").test(s)}function isAlpha(s){return RegExp("^[a-zA-Z]+$").test(s)}function isInt(n){return RegExp("^[-+]?[0-9]+$").test(n)}function isPositiveInt(n){return RegExp("^[+]?[0-9]+$").test(n)}function isNegativeInt(n){return RegExp("^-[0-9]+$").test(n)}function isAlphaNumeric(s){return RegExp("^[a-zA-Z0-9-/]+$").test(s)}function isAlphaNumericWhiteSpace(s){return RegExp("^[a-zA-Z0-9-.;,/ \w\s]+$").test(s)}function isAlphaNumericWhiteSpaceComma(s){return RegExp("^[a-zA-Z0-9-,/ \w\s]+$").test(s)}function isAlphaWhiteSpace(s){return RegExp("^[a-zA-Z-/ \w\s]+$").test(s)}function isDecimal(n){return RegExp("^[-+]?[0-9]+[.][0-9]+$").test(n)}function isLikeDecimal(n){return isInt(n)||RegExp("^[-+]?[0-9]+[.]$").test(n)||isDecimal(n)}function isPositiveDecimal(n){return(RegExp("^[+]?[0-9]+[.][0-9]+$").test(n))}function isNegativeDecimal(n){return RegExp("^-[0-9]+[.][0-9]+$").test(n)}function checkTime(s){return RegExp("^[012][0-9]:[0-5][0-9]$").test(s)}function checkDutyHours(s){return RegExp("^[0-9][0-9].[0-5][0-9]$").test(s)}function checkEmail(s){return RegExp("^[a-zA-Z0-9-_.]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$").test(s)}function attachEvents(){document.onkeypress=checkOnKeyPress;document.body.onpaste=validatePaste}function checkOnKeyPress(){var e=event;var kCode=e.keyCode;var keys1=[34,39,60,62,94,126];if(kCode=="13"){onEnterKeyPressed();return}keys1="_"+keys1.join("_")+"_";if(keys1.indexOf("_"+kCode+"_")!=-1)e.returnValue=false}function validatePaste(){var val=window.clipboardData.getData("Text");var obj=event.srcElement;var tag=obj.tagName;if((tag=="INPUT")||(tag=="TEXTAREA")){if((obj.type.indexOf("text")>-1)||obj.type=="password"){window.clipboardData.setData("Text",removeInvalids(val))}}}function removeInvalids(val){var re1=/'|"/g;var re2=/<|>|~|\^/g;val=val.replace(re1,"");val=val.replace(re2,"-");return val}function stopRightMouse(){var e=event;var obj=e.srcElement;var tag=obj.tagName;if((tag=="INPUT")||(tag=="TEXTAREA")){if((obj.type.indexOf("text")>-1)||obj.type=="password"){return true}}return false}function doAfterLoad(){attachEvents()}function isError(e,msg,id){var blnErr=false;var val=getVal(id);var obj=getField(id);if(e=="NULL"){if(isEmpty(val))blnErr=true}else if(e=="NOT_ALPHA"){blnErr=!isAlpha(val)}else if(e=="NOT_ALPHANUMERIC"){blnErr=!isAlphaNumeric(val)}else if(e=="NaN"){blnErr=(isNaN(val))}else if(e=="NOT_FLOAT"){blnErr=(!isNaN(val))&&(val.indexOf(".")!=-1)}else if(e.substr(0,6)=="MAXVAL"){blnErr=(Number(val)>Number(e.substr(6)))}else if(e.substr(0,6)=="MINVAL"){blnErr=(Number(val)<Number(e.substr(6)))}else if(e.substr(0,6)=="MAXLEN"){blnErr=(val.length>Number(e.substr(6)))}else if(e.substr(0,6)=="MINLEN"){blnErr=(val.length<Number(e.substr(6)))}else if(e.substr(0,6)=="WHITESPACE"){blnErr=hasWSpace()}else{alert("isErr:"+e+":"+"invalid error type")}if(blnErr){alert(msg);if(obj[0]){if(obj.tagName=="SELECT"){obj.focus()}else{obj[0].focus()}}else if(!(obj.readOnly||obj.disabled||obj.type=='hidden'||obj.style.visibility=='hidden'||obj.style.display=='none')){obj.focus()}}else{setField(id,trim(val))}return blnErr}function removeChars(str,chars){return str;var strTmp=str;if(chars=='undefined'||chars==null||chars==""){chars="`!@#$%&*?[]{}()|\\/+=:.,;"}var arr=chars.split("");for(var i=0;i<arr.length;i++){strTmp=strTmp.replace(arr[i],"")}return strTmp}function keyPressCheckEmail(){var obj=window.event.srcElement;if(!isEmpty(obj.value)&&!checkEmail(obj.value)){alert('Invalid Email Address');obj.focus()}}function IsValidTime(timeStr){var timePat=/^(\d{1,2}):(\d{2})(:(\d{2}))?(\s?(AM|am|PM|pm))?$/;var matchArray=timeStr.match(timePat);if(matchArray==null){return false}hour=matchArray[1];minute=matchArray[2];second=matchArray[4];ampm=matchArray[6];if(second==""){second=null}if(hour<0||hour>23){return false}if(minute<0||minute>59){return false}if(second!=null&&(second<0||second>59)){return false}return false}function numberKeyPress(e){var key,isCtrl;if(window.event){key=e.keyCode;isCtrl=window.event.ctrlKey}else if(e.which){key=e.which;isCtrl=e.ctrlKey}if(key==8||isCtrl){return true}else{var keychar=String.fromCharCode(key)}return isInt(keychar)}function blockNonNumbers(obj,e,allowDecimal,allowNegative){var key;var isCtrl=false;var keychar;var reg;if(window.event){key=e.keyCode;isCtrl=window.event.ctrlKey}else if(e.which){key=e.which;isCtrl=e.ctrlKey}if(isNaN(key))return true;keychar=String.fromCharCode(key);if(key==8||isCtrl){return true}var isInvalid=obj.value.length!=0&&(keychar=='-'||keychar=='+');if(isInvalid){return false}reg=/\d/;var isFirstNeg=allowNegative?keychar=='-'&&obj.value.indexOf('-')==-1:false;var isFirstPos=keychar=='+'&&obj.value.indexOf('+')==-1;var isFirstD=allowDecimal?keychar=='.'&&obj.value.indexOf('.')==-1:false;return isFirstNeg||isFirstPos||isFirstD||reg.test(keychar)}function formatTime(strTime,forceFormat){var text=strTime.value;if(text.length==0)return;var numericPart='';var characterPart='';var i;var current;for(i=0;i<text.length;i++){current=text.charAt(i);if(isInt(current))numericPart=numericPart+current;if(isAlpha(current))characterPart=characterPart+current}var formattedDate;var hour;var minute;var dayPart;if(characterPart.indexOf('a')>-1||characterPart.indexOf('A')>-1)dayPart='AM';else dayPart='PM';if(numericPart.length>=4){hour=numericPart.substring(0,2);minute=numericPart.substring(2,4)}else if(numericPart.length==3){hour=numericPart.substring(0,1);minute=numericPart.substring(1,3)}else if(numericPart.length==2){hour=numericPart.substring(0,2);minute='00'}else if(numericPart.length==1){hour=numericPart.substring(0,1);minute='00'}else{if(!forceFormat)return;var d=new Date();hour=d.getHours();minute='00'}if(hour>12){if(hour<=24){dayPart='PM'}else{if(!forceFormat)return;hour=(new Date()).getHours();if(hour>12){dayPart='PM'}else{dayPart='AM'}}}if(hour==0){hour=12;dayPart='AM'}strTime.value=hour+':'+minute+' '+dayPart}function checkAlpha(obj,e,allowChars){var key;var isCtrl=false;var keychar;var reg;if(window.event){key=e.keyCode;isCtrl=window.event.ctrlKey}else if(e.which){key=e.which;isCtrl=e.ctrlKey}if(isNaN(key))return true;if(key==8||key==46||isCtrl){return true}keychar=String.fromCharCode(key);if(allowChars&&allowChars!=null&&allowChars.indexOf(keychar)!=-1){return true}return isAlpha(keychar)}function checkAlphaNumeric(obj,e,allowChars){try{var key;var isCtrl=false;var keychar;var reg;if(window.event){key=e.keyCode;isCtrl=window.event.ctrlKey}else if(e.which){key=e.which;isCtrl=e.ctrlKey}if(isNaN(key))return true;if(key==8||key==46||isCtrl){return true}keychar=String.fromCharCode(key);if(allowChars&&allowChars!=null&&allowChars.indexOf(keychar)!=-1){return true}return isAlpha(keychar)||isNumber(keychar)}catch(e){}}function checkName(obj,e){var allowChars="";return checkAlphaNumeric(obj,e,allowChars)}var showXBEMain="../private/showXBEMain.do";var winParams=new Array();function refineJS(strJS){var winCC=null;if(strJS&&strJS!=null){if(strJS.indexOf('../js/login/Login.js')!=-1){strJS="aMessage['code']='ERROR';aMessage['desc']='';"}}if(top.name=='winCC'){winCC=top}else{if(top.opener&&!top.opener.closed){winCC=top.opener.top}}if(winCC!=null){winCC.ResetTimeOut()}strJS=strJS.replace(/\r\n|\r|\n/g,'');return strJS}function setTimeWithColon(txtField){var strTime=txtField.value;if(trim(strTime)!=""){var index=strTime.length-2;var hourindex=strTime.search(":");if(hourindex!=-1){txtField.value=strTime}else{var mn="00";if(strTime.length==3||strTime.length==4)mn=strTime.substr(index,2);var hr=0;if(strTime.length==3){hr=strTime.substr(0,1)}else{hr=strTime.substr(0,2)}var timecolon=hr+":"+mn;txtField.value=timecolon;strTime=timecolon}}return IsValidTime(strTime)}function positiveWholeNumberValidate(objTxt){var strValue=objTxt.value;if(!isPositiveInt(strValue)){objTxt.value=strValue.substr(0,strValue.length-1)}}function KPValidateDecimel(objCon,s,f){var strLen=objCon.value.length;var strText=objCon.value;var blnVal=isLikeDecimal(strText);if(!blnVal){objCon.value=strText.substr(0,strLen-1)}}function isValidPassword(pass){var charArray=new Array();var strChar="";var numCount=0;var alphaCount=0;var intMinLen=8;var intMaxLen=12;if(!isAlphaNumeric(pass)){return false}if(pass.length<intMinLen||pass.length>intMaxLen){return false}for(var i=0;i<pass.length;i++){strChar=pass.substr(i,1);if(isPositiveInt(strChar)){numCount++}}if((numCount<3)||(numCount>(pass.length-3))){return false}return true}function isLessCurrentDate(StrDate){return(Date.parse(convertDFV(getServerCurrentDate()))>Date.parse(convertDFV(StrDate)))}function getClientCurrentDate(){var dateCurrentDate=new Date();return(dateCurrentDate.getMonth()+1)+"/"+dateCurrentDate.getDate()+"/"+dateCurrentDate.getFullYear()}function getServerCurrentDate(){return objTop.arrParams[0]}function compareDate(strFromDate,StrToDate){return(Date.parse(convertDFV(strFromDate))>Date.parse(convertDFV(StrToDate)))}function convertDFV(strDate){if(strDate!=null&&strDate.length>=10){return strDate.substr(3,2)+"/"+strDate.substr(0,2)+"/"+strDate.substr(6,4)}return""}

//fillDD.js
function listBox(){this.id="lst1";this.dataArray=new Array();this.valueIndex=0;this.textIndex=1;this.blnFirstEmpty=false;this.blnMergeTextValue=false;this.blnMergeStyle="-";this.firstValue="";this.firstTextValue="Please Select a value";this.frameName="";this.filterIndex="";this.filter=false;this.filterValue="";this.fillListBoxByName=fillListBoxName;this.fillListBox=fillListBox;this.appendNodes=_appendNodes;this.appendNodesIE=_appendIE}function fillListBox(){var objC=this;var intLength=objC.dataArray.length;var arrID=objC.id.split(",");var objDL;for(var x=0;x<arrID.length;x++){arrID[x]=document.getElementById(arrID[x]);objDL=arrID[x];objDL.length=0}if(objC.blnFirstEmpty){for(var x=0;x<arrID.length;x++){objDL=arrID[x];objDL.length=objDL.length+1;objDL.options[objDL.length-1].text=objC.firstTextValue;objDL.options[objDL.length-1].value=objC.firstValue}}var blnValidated=false;for(var i=0;i<intLength;i++){for(var y=0;y<arrID.length;y++){blnValidated=true;if(objC.filter){if(objC.filterValue!=""){if(objC.dataArray[i][objC.filterIndex]!=objC.filterValue){blnValidated=false}}}if(blnValidated){objDL=arrID[y];objDL.length=objDL.length+1;if(objC.blnMergeTextValue){switch(objC.blnMergeStyle){case"-":objDL.options[objDL.length-1].text=unescape(objC.dataArray[i][objC.valueIndex]+" - "+objC.dataArray[i][objC.textIndex]);break;case"(":objDL.options[objDL.length-1].text=unescape(objC.dataArray[i][objC.textIndex]+" ("+objC.dataArray[i][objC.valueIndex]+")");break}}else{objDL.options[objDL.length-1].text=unescape(objC.dataArray[i][objC.textIndex])}objDL.options[objDL.length-1].value=objC.dataArray[i][objC.valueIndex]}}}}function fillListBoxName(){var objC=this;var intLength=objC.dataArray.length;var arrID=objC.id.split(",");var objDL;for(var x=0;x<arrID.length;x++){var objControls;if(objC.frameName==""){objControls=document.getElementsByName(arrID[x])}else{objControls=frames[objC.frameName].document.getElementsByName(arrID[x])}var intCount=objControls.length;for(var i=0;i<intCount;i++){objDL=objControls[i];objDL.length=0}}if(objC.blnFirstEmpty){for(var x=0;x<arrID.length;x++){var objControls;if(objC.frameName==""){objControls=document.getElementsByName(arrID[x])}else{objControls=frames[objC.frameName].document.getElementsByName(arrID[x])}var intCount=objControls.length;for(var i=0;i<intCount;i++){objDL=objControls[i];objDL.length=objDL.length+1;objDL.options[objDL.length-1].text=objC.firstTextValue;objDL.options[objDL.length-1].value=objC.firstValue}}}var blnValidated=false;for(var i=0;i<intLength;i++){for(var y=0;y<arrID.length;y++){blnValidated=true;if(objC.filter){if(objC.filterValue!=""){if(objC.dataArray[i][objC.filterIndex]!=objC.filterValue){blnValidated=false}}}if(blnValidated){var objControls;if(objC.frameName==""){objControls=document.getElementsByName(arrID[y])}else{objControls=frames[objC.frameName].document.getElementsByName(arrID[y])}var intCount=objControls.length;for(var x=0;x<intCount;x++){objDL=objControls[x];objDL.length=objDL.length+1;if(objC.blnMergeTextValue){objDL.options[objDL.length-1].text=objC.dataArray[i][objC.valueIndex]+" - "+objC.dataArray[i][objC.textIndex]}else{objDL.options[objDL.length-1].text=objC.dataArray[i][objC.textIndex]}objDL.options[objDL.length-1].value=objC.dataArray[i][objC.valueIndex]}}}}}function _appendNodes(strID,strValue,strText){var objC=this;if(typeof(strID)=="string"){objC=document.getElementById(strID)}else{objC=strID}var opt=document.createElement("OPTION");opt.appendChild(document.createTextNode(strText));opt.setAttribute("value",strValue);objC.appendChild(opt)}function _appendIE(strID,strValue,strText){var objC=this;if(typeof(strID)=="string"){objC=document.getElementById(strID)}else{objC=strID}var intLen=objC.length;objC.length=objC.length+1;objC.options[intLen].value=strValue;objC.options[intLen].text=strText}

//SSTbl.js
function filterDropDown(){this.id="";this.width="100px";this.listWidth="100px";this.listHeight="100px";this.dataArray=new Array();this.valueIndex=0;this.textIndex=1;this.tabIndex=1;this.textHeight=15;this.preference="";this.wrapText=false;this.currentStatus=false;this.onClick="";this.onSelect="";this.classBorder="ssThinBorder";this.classLink="ssHref";this.classThinBG="ssThinBG";this.classThinBGSltd="ssThinBGSltd";this.value="";this.text="";this.imgPath="";this.folderPath="";this.showImg="Plus.jpg";this.hideImg="Minus.jpg";this.closeImg="Close_Light.jpg";this.dataPage="FDTbl.htm";this.closeImgBufferScroll=12;this.closeImgBuffer=15;this.borderBuffer=18;this.closeTop="19px";this.minRecords=6;this.toolTipImage="Click to View the list";this.defaultText="-- Please Select --";this.noMatchingText="There are no cities matching your request.";this.displayFilterDropDown=_displayFilterDropDown;this.focus=_txtControlFocus;this.collapse=_collapseControl;this.refresh=_refresh;this.clearControl=_clearControl;if(!window._arrFD)window._arrFD=new Array();window._arrFD[this.id]=this;window._arrFD[window._arrFD.length]=this;window._FDLayer="spnFDLayer_";this._allTextHTML="";this._blnDataiAvail=false;this._blnDisplay=true;this._objLoadTimer=null;this._intLastMove=-1;this._intAllTotCount=0;this._intRecCount=0;this._arrFilterd=new Array();this._filtered=false;this._blnSltdApply=true;this._blnAutoMove=false}function _displayFilterDropDown(){var _objFD=this;document.writeln('<span id="'+window._FDLayer+'" style="visibility:hidden;"><\/span>');var objCont=document.getElementById(window._FDLayer);var _objFD=null;objCont.arrFD=new Array();var strHTMLText="";for(var i=0;i<window._arrFD.length;i++){objCont.arrFD[i]=window._arrFD[i];_objFD=objCont.arrFD[i];strHTMLText="";strHTMLText="<table border='0' cellpadding='0' cellspacing='0'>";strHTMLText+="		<tr>";strHTMLText+="			<td nowrap><input type='text' ";strHTMLText+="						id='txt_"+_objFD.id+"' name='txt_"+_objFD.id+"' ";strHTMLText+="						style='width:"+_objFD.width+"' ";strHTMLText+="						value='"+_objFD.defaultText+"' ";strHTMLText+="                        onKeyUp='_txtKeyUp(\""+_objFD.id+"\", event)' ";if(browser.isOpera){strHTMLText+="                    onkeypress ='_txtKeyUp(\""+_objFD.id+"\", event)' "}strHTMLText+="                        onClick='_txtClick(\""+_objFD.id+"\")' ";strHTMLText+="                        tabIndex='"+(_objFD.tabIndex++)+"' ";strHTMLText+="                        class='ssInput' ";strHTMLText+="				><\/td><td nowrap><a href='#' onclick='_imgOnClick("+'"'+_objFD.id+'"'+"); return false'><img id='img_"+_objFD.id+"' name='img_"+_objFD.id+"' ";strHTMLText+="					src='"+_objFD.imgPath+_objFD.showImg+"' ";strHTMLText+="					alt='' ";strHTMLText+="					title='"+_objFD.toolTipImage+"' ";strHTMLText+="                    tabIndex='-1'";strHTMLText+="					border='0'><\/a><\/td>";strHTMLText+="		<\/tr>";strHTMLText+="	<\/table>";strHTMLText+="	<iframe src='"+_objFD.folderPath+_objFD.dataPage+"' id='frm_"+_objFD.id+"' name='frm_"+_objFD.id+"' height='"+_objFD.listHeight+"' width='"+_objFD.listWidth+"' frameborder='0' scrolling='auto' class='"+_objFD.classBorder+"' style='display:none;'><\/iframe>";strHTMLText+="    <span id='spn_Close_"+_objFD.id+"' style='position:absolute;top:"+_objFD.closeTop+";width:16px;left:"+_objFD.listWidth+";display:none;'><a href='#' onclick='_collapseControl("+'"'+_objFD.id+'"'+"); return false;'><img src='"+_objFD.imgPath+_objFD.closeImg+"' alt='' border='0'></span>";getFieldByID(_objFD.id).style.position="absolute";DivWrite(_objFD.id,strHTMLText);_objFD._objLoadTimer=setInterval("_refresh('"+_objFD.id+"')",300)}}function _getFDObject(strID){var objCont=document.getElementById(window._FDLayer);var _objFD=null;for(var y=0;y<objCont.arrFD.length;y++){if(objCont.arrFD[y].id==strID){_objFD=objCont.arrFD[y];break}}return _objFD}function _imgOnClick(strID){var _objFD=_getFDObject(strID);var frmName="frm_"+_objFD.id;setDisplay(frmName,_objFD._blnDisplay);setDisplay("spn_Close_"+_objFD.id,_objFD._blnDisplay);if(_objFD._blnDisplay){var strHTMLText=_objFD._allTextHTML;if(strHTMLText!=""){_objFD._blnDataiAvail=true}_objFD._intRecCount=_objFD._intAllTotCount;_objFD._filtered=false;_showData(_objFD,strHTMLText);_objFD._blnDisplay=true}if(_objFD._blnDisplay){_objFD._blnDisplay=false}else{_objFD._blnDisplay=true}_changeImage(strID)}function _changeImage(strID){var _objFD=_getFDObject(strID);if(_objFD.onClick!=""){eval(_objFD.onClick+"('"+_objFD.id+"')")}if(_objFD._blnDisplay){setImage("img_"+_objFD.id,_objFD.imgPath+_objFD.showImg);if(getValue("txt_"+_objFD.id)==""){setField("txt_"+_objFD.id,_objFD.defaultText)}else{_applyLastSltd(_objFD)}_objFD._blnSltdApply=true;_objFD.currentStatus=false}else{setImage("img_"+_objFD.id,_objFD.imgPath+_objFD.hideImg);if(getValue("txt_"+_objFD.id)==_objFD.defaultText){setField("txt_"+_objFD.id,"")}setFocus("txt_"+_objFD.id);_objFD._blnSltdApply=false;_objFD.currentStatus=true}}function _txtControlFocus(){var _objFD=null;if(arguments.length==0){_objFD=this}else{_objFD=_getFDObject(arguments[0])}setFocus("txt_"+_objFD.id)}function _initialize(_objFD){_objFD._allTextHTML="";_objFD._blnDataiAvail=false;_objFD._blnDisplay=true;_objFD._objLoadTimer=null;_objFD._intLastMove=-1;_objFD._intAllTotCount=0;_objFD._intRecCount=0;setField("txt_"+_objFD.id,_objFD.defaultText);_collapseControl(_objFD.id)}function _clearControl(){var _objFD=this;setField("txt_"+_objFD.id,_objFD.defaultText);_objFD.value="";_objFD.text=""}function _refresh(){var _objFD=null;if(arguments.length==0){_objFD=this}else{_objFD=_getFDObject(arguments[0])}var strID=_objFD.id;if(frames["frm_"+strID].blnPgLoaded){clearInterval(_objFD._objLoadTimer);_initialize(_objFD);var strHTMLText="";var _objData=null;if(_objFD.preference!=""){_reorgData(_objFD)}_objData=_objFD.dataArray;var intTotRec=_objData.length;var strWrapText="";if(!_objFD.wrapText){strWrapText="nowrap"}if(intTotRec>0){var i=0;_objFD._intAllTotCount=intTotRec;var intLen=intTotRec;var intColStart=null;if(intLen>_objFD.minRecords){intLen=Math.round(intTotRec/2);if(intLen==0){intLen++}if(intTotRec>intLen){intColStart=intLen}}strHTMLText+="<table width='100%' border='0' cellpadding='1' cellspacing='0'>";do{strHTMLText+="<tr>";strHTMLText+="        <td "+strWrapText+" width='50%' id='td_Col_"+i+"' name='td_Col_"+i+"'><font><a href='#' class='"+_objFD.classLink+"' onclick='parent._selectRecord("+'"'+_objFD.id+'"'+","+i+"); return false;'>"+_objData[i][_objFD.textIndex]+" ("+_objData[i][_objFD.valueIndex]+")"+"<\/a><\/font><\/td>";if(intColStart!=null){if(intColStart<intTotRec){strHTMLText+="    <td  "+strWrapText+" width='50%' id='td_Col_"+intColStart+"' name='td_Col_"+intColStart+"'><font><a href='#' class='"+_objFD.classLink+"' onclick='parent._selectRecord("+'"'+_objFD.id+'"'+","+intColStart+"); return false;'>"+_objData[intColStart][_objFD.textIndex]+" ("+_objData[intColStart][_objFD.valueIndex]+")"+"<\/a><\/font><\/td>";if(_objFD.dataArray[intColStart][_objFD.valueIndex]==_objFD.value){_objFD.text=_objFD.dataArray[intColStart][_objFD.textIndex]}intColStart++}}strHTMLText+="<\/tr>";if(_objFD.dataArray[i][_objFD.valueIndex]==_objFD.value){_objFD.text=_objFD.dataArray[i][_objFD.textIndex]}i++}while(--intLen);strHTMLText+="<\/table>";_objFD._allTextHTML=strHTMLText}frames["frm_"+strID].strID=_objFD.id;frames["frm_"+strID].DivWrite("spnData",_objFD._allTextHTML);if(_objFD.text!=""){setField("txt_"+_objFD.id,_getCodNText(_objFD))}}}function _reorgData(_objFD){var arrPref=_objFD.preference.toUpperCase().split(",");var intPrefLen=arrPref.length;var arrNewData=new Array();var intLen=_objFD.dataArray.length;var i=0;var x=0;var intLenP=intPrefLen;var arrRemove=new Array();do{intLenP=intPrefLen;x=0;do{if(arrPref[x]==_objFD.dataArray[i][_objFD.valueIndex].toUpperCase()){arrNewData.push(_objFD.dataArray[i]);arrRemove.push(i)}x++}while(--intLenP);i++}while(--intLen);intLen=_objFD.dataArray.length;var strRemove=","+arrRemove.join()+",";i=0;do{if(strRemove.indexOf(","+i+",")==-1){arrNewData.push(_objFD.dataArray[i])}i++}while(--intLen)_objFD.dataArray=arrNewData}function _txtKeyUp(strID,objEvent){if(browser.isIE){objEvent=window.event}var strKeyValue=objEvent.keyCode;var _objFD=_getFDObject(strID);if(_objFD._blnDisplay){_filterContent(_objFD)}var intID=0;var intIDLast=_objFD._intLastMove;switch(strKeyValue){case 38:if(_objFD._blnDataiAvail){intID=--_objFD._intLastMove;_setCurMove(_objFD,intID,intIDLast)}break;case 40:if(_objFD._blnAutoMove){_moveScroll(_objFD,_objFD._intLastMove);_objFD._blnAutoMove=false;return false}if(_objFD._blnDataiAvail){intID=++_objFD._intLastMove;_setCurMove(_objFD,intID,intIDLast)}break;case 13:_selectRecord(strID,_objFD._intLastMove);break;default:_filterContent(_objFD);break}}function _selectRecord(strID,intID){var _objFD=_getFDObject(strID);var intCol=null;if(intID>=0){if(!_objFD._filtered){intCol=intID}else{intCol=_objFD._arrFilterd[intID][0]}}_collapseControl(_objFD.id);if(intCol!=null){_objFD.value=_objFD.dataArray[intCol][_objFD.valueIndex];_objFD.text=_objFD.dataArray[intCol][_objFD.textIndex];setField("txt_"+_objFD.id,_getCodNText(_objFD));if(_objFD.onSelect!=""){eval(_objFD.onSelect+"('"+_objFD.id+"')")}}}function _setCurMove(_objFD,intID,intIDLast){var blnProceed=true;if((intID+1)>_objFD._intRecCount){blnProceed=false;_objFD._intLastMove=_objFD._intRecCount-1}if(intID<0){blnProceed=false;_objFD._intLastMove=0}if(blnProceed){if(intIDLast>-1){frames["frm_"+_objFD.id].setStyleClass("td_Col_"+intIDLast,_objFD.classThinBG)}frames["frm_"+_objFD.id].setStyleClass("td_Col_"+intID,_objFD.classThinBGSltd);_moveScroll(_objFD,intID)}}function _moveScroll(_objFD,intID){if(intID>5){var intScrollHeight=_objFD.textHeight*intID;if(_objFD._intRecCount>_objFD.minRecords){if(intID>_objFD.minRecords){var intDivRec=Math.round(_objFD._intRecCount/2);if(intID>=intDivRec){intScrollHeight=_objFD.textHeight*((intID-intDivRec)-1)}}}}frames["frm_"+_objFD.id].window.scrollTo(0,intScrollHeight)}function _filterContent(_objFD){var strHTMLText="";var strValue=getValue("txt_"+_objFD.id);if(strValue==_objFD.defaultText){strValue=""}var blnFiltered=true;var blnAutoMove=false;_objFD._blnDataiAvail=false;if(strValue==""){blnFiltered=false}else{if(getValue("txt_"+_objFD.id)==(_getCodNText(_objFD))){blnFiltered=false;_objFD._blnAutoMove=true}}frames["frm_"+_objFD.id].window.scrollTo(0,0);if(!blnFiltered){strHTMLText=_objFD._allTextHTML;if(strHTMLText!=""){_objFD._blnDataiAvail=true}_objFD._intRecCount=_objFD._intAllTotCount;_objFD._filtered=false}else{strValue=strValue.toUpperCase();var intValLen=strValue.length;var _objData=_objFD.dataArray;var intLen=_objData.length;_objFD._filtered=true;_objFD._arrFilterd=new Array();var x=0;var i=0;var strDesc="";var strCode="";var strFullText="";var strATxt="";var strAVal="";var strDescS="";var strDescM="";var strDescE="";var intFoundPos=-1;do{strDesc="";strCode="";strAVal=_objData[i][_objFD.valueIndex].toUpperCase();strATxt=_objData[i][_objFD.textIndex].toUpperCase();if(strAVal.substr(0,intValLen)==strValue){strCode="(<b>"+_objData[i][_objFD.valueIndex].substr(0,intValLen)+"<\/b>"+_objData[i][_objFD.valueIndex].substr(intValLen)+")"}if(strATxt.substr(0,intValLen)==strValue){strDesc="<b>"+_objData[i][_objFD.textIndex].substr(0,intValLen)+"<\/b>"+_objData[i][_objFD.textIndex].substr(intValLen)}if(intValLen>1){if(strDesc==""){intFoundPos=strATxt.indexOf(strValue);if(intFoundPos!=-1){strATxt=_objData[i][_objFD.textIndex];strDescS=strATxt.substr(0,intFoundPos);strDescM="<b>"+strATxt.substr(intFoundPos,intValLen)+"<\/b>";strDescE=strATxt.substr(intFoundPos+intValLen);strDesc=strDescS+strDescM+strDescE}}if(strCode==""){intFoundPos=strAVal.indexOf(strValue);if(intFoundPos!=-1){strAVal=_objData[i][_objFD.valueIndex];strDescS=strAVal.substr(0,intFoundPos);strDescM="<b>"+strAVal.substr(intFoundPos,intValLen)+"<\/b>";strDescE=strAVal.substr(intFoundPos+intValLen);strCode="("+strDescS+strDescM+strDescE+")"}}}if((strCode=="")&&(strDesc=="")){strFullText=_objData[i][_objFD.textIndex]+" ("+_objData[i][_objFD.valueIndex]+")";strFullText=strFullText.toUpperCase();if(strFullText.substr(0,intValLen).toUpperCase()==strValue){strCode="("+_objData[i][_objFD.valueIndex]+")";strDesc=_objData[i][_objFD.textIndex]}}if((strDesc!="")||(strCode!="")){if(strCode==""){strCode="("+_objData[i][_objFD.valueIndex]+")"}if(strDesc==""){strDesc=_objData[i][_objFD.textIndex]}_objFD._arrFilterd[x]=new Array(i,strDesc+" "+strCode);x++}i++}while(--intLen);var intTotRec=_objFD._arrFilterd.length;if(intTotRec>0){i=0;_objFD._intRecCount=intTotRec;var intColStart=null;intLen=intTotRec;if(intLen>_objFD.minRecords){intLen=Math.round(intTotRec/2);if(intLen==0){intLen++}if(intTotRec>intLen){intColStart=intLen}}var strWrapText="";if(!_objFD.wrapText){strWrapText="nowrap"}strHTMLText+="<table width='100%' border='0' cellpadding='1' cellspacing='0'>";do{strHTMLText+="<tr>";strHTMLText+="        <td "+strWrapText+" width='50%' id='td_Col_"+i+"' name='td_Col_"+i+"'><font><a href='#' class='"+_objFD.classLink+"' onclick='parent._selectRecord("+'"'+_objFD.id+'"'+","+i+"); return false;'>"+_objFD._arrFilterd[i][1]+"<\/a><\/font><\/td>";if(intColStart!=null){if(intColStart<intTotRec){strHTMLText+="    <td "+strWrapText+" width='50%' id='td_Col_"+intColStart+"' name='td_Col_"+intColStart+"'><font><a href='#' class='"+_objFD.classLink+"' onclick='parent._selectRecord("+'"'+_objFD.id+'"'+","+intColStart+"); return false;'>"+_objFD._arrFilterd[intColStart][1]+"<\/a><\/font><\/td>";intColStart++}}strHTMLText+="<\/tr>";i++}while(--intLen);strHTMLText+="<\/table>";_objFD._blnDataiAvail=true}else{strHTMLText="<font>"+_objFD.noMatchingText+"<\/font>"}}_showData(_objFD,strHTMLText)}function _showData(_objFD,strHTMLText){_objFD._intLastMove=-1;frames["frm_"+_objFD.id].DivWrite("spnData",strHTMLText);_objFD._blnDisplay=false;setDisplay("frm_"+_objFD.id,true);setDisplay("spn_Close_"+_objFD.id,true);getFieldByID("frm_"+_objFD.id).style.width=_objFD.listWidth;var intLeft=frames["frm_"+_objFD.id].getPageInnerWidth();var intWidthB=intLeft;if(frames["frm_"+_objFD.id].getPageInnerHeight()>_objFD.listHeight.split("px")[0]){intWidthB=intWidthB+_objFD.borderBuffer;intLeft=intLeft-_objFD.closeImgBufferScroll}else{intLeft=intLeft-_objFD.closeImgBuffer}getFieldByID("frm_"+_objFD.id).style.width=intWidthB;getFieldByID("spn_Close_"+_objFD.id).style.left=intLeft;if(!_objFD._filtered){if(_objFD._blnSltdApply){if(_objFD.value!=""){var intLen=_objFD.dataArray.length;var i=0;do{if(_objFD.dataArray[i][_objFD.valueIndex]==_objFD.value){_objFD.text=_objFD.dataArray[i][_objFD.textIndex];break}i++}while(--intLen);setField("txt_"+_objFD.id,_getCodNText(_objFD));selectAll("txt_"+_objFD.id);_objFD._intLastMove=i;_setCurMove(_objFD,_objFD._intLastMove,-1)}}}_changeImage(_objFD.id)}function _txtClick(strID){var _objFD=_getFDObject(strID);if(!_objFD._blnDisplay){_imgOnClick(strID)}else{if(getValue("txt_"+_objFD.id)==_objFD.defaultText){setField("txt_"+_objFD.id,"")}}}function _collapseControl(){var _objFD=null;if(arguments.length==0){_objFD=this}else{_objFD=_getFDObject(arguments[0])}_objFD._blnDisplay=true;setDisplay("frm_"+_objFD.id,false);setDisplay("spn_Close_"+_objFD.id,false);_changeImage(_objFD.id)}function _applyLastSltd(_objFD){if(_objFD.text!=""){var strValue=_getCodNText(_objFD);if(getValue("txt_"+_objFD.id)!=_objFD.defaultText){setField("txt_"+_objFD.id,strValue)}}}function _getCodNText(_objFD){var strValue="";if(_objFD.text!=""){strValue=_objFD.text+" ("+_objFD.value+")"}return strValue}

//drag.js
var dragObj=new Object();dragObj.zIndex=0;function dragStart(event,id){var el;var x,y;if(id)dragObj.elNode=document.getElementById(id);else{if(browser.isIE)dragObj.elNode=window.event.srcElement;if(browser.isNS)dragObj.elNode=event.target;if(dragObj.elNode.nodeType==3)dragObj.elNode=dragObj.elNode.parentNode}if(browser.isIE){x=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft;y=window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop}if(browser.isNS){x=event.clientX+window.scrollX;y=event.clientY+window.scrollY}dragObj.cursorStartX=x;dragObj.cursorStartY=y;dragObj.elStartLeft=parseInt(dragObj.elNode.style.left,10);dragObj.elStartTop=parseInt(dragObj.elNode.style.top,10);if(isNaN(dragObj.elStartLeft))dragObj.elStartLeft=0;if(isNaN(dragObj.elStartTop))dragObj.elStartTop=0;dragObj.elNode.style.zIndex=++dragObj.zIndex;if(browser.isIE){document.attachEvent("onmousemove",dragGo);document.attachEvent("onmouseup",dragStop);window.event.cancelBubble=true;window.event.returnValue=false}if(browser.isNS){document.addEventListener("mousemove",dragGo,true);document.addEventListener("mouseup",dragStop,true);event.preventDefault()}}function dragGo(event){var x,y;if(browser.isIE){x=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft;y=window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop}if(browser.isNS){x=event.clientX+window.scrollX;y=event.clientY+window.scrollY}dragObj.elNode.style.left=(dragObj.elStartLeft+x-dragObj.cursorStartX)+"px";dragObj.elNode.style.top=(dragObj.elStartTop+y-dragObj.cursorStartY)+"px";if(browser.isIE){window.event.cancelBubble=true;window.event.returnValue=false}if(browser.isNS)event.preventDefault()}function dragStop(event){if(browser.isIE){document.detachEvent("onmousemove",dragGo);document.detachEvent("onmouseup",dragStop)}if(browser.isNS){document.removeEventListener("mousemove",dragGo,true);document.removeEventListener("mouseup",dragStop,true)}}

//calendar.js
function Calendar(){var now=new Date();var day=now.getDate();var month=(now.getMonth()+1);var year=now.getFullYear();this.ID=0;if(month<10){month="0"+month}this.currentDate=day+"/"+month+"/"+year;this.noYears=6;this.yearStart=year;this.top=0;this.left=0;if(arguments.length==1){this.spanTagID=arguments[0]}else{this.spanTagID="spn_Cal_Layer"}this.borderColor="Silver";this.headerTextColor="White";this.onClick="";this.arrMonths=new Array("January","February","March","April","May","June","July","August","September","October","November","December");this.arrWeekDays=new Array("S","M","T","W","T","F","S");this.header=":: Calendar";this.blnDragCalendar=true;this.blnHeader=true;this.blnAutoHide=true;this.disableUpto="";this.disableFrom="";this.blnArabic=false;this.dir="ltr";this.yearRange="RANGE";this.imgPath="images/ibe/new/";this.imgPathNav="images/ibe/new/";this.showCalendar=showCalendar;this.buildCalendar=buildCalendar;this.hideCalendar=hideCalendar;window._CalendarPage="js/calendar.htm";window._CalendarImgPath=this.imgPath;window._CalendarLayer="spnCalLayer";if(!window._arrCalObj)window._arrCalObj=new Array();window._arrCalObj[this.spanTagID]=this;window._arrCalObj[window._arrCalObj.length]=this;this._calDelay=null;window._CalBrowser=true;ua=navigator.userAgent;s="MSIE";if((i=ua.indexOf(s))>=0){window._CalBrowser=true}s="Netscape6/";if((i=ua.indexOf(s))>=0){window._CalBrowser=false}s="Gecko";if((i=ua.indexOf(s))>=0){window._CalBrowser=false}}function delayCalendar(strID){var objContainer=document.getElementById(window._CalendarLayer);var strGridHTMLText="";for(var i=0;i<objContainer.arrCal.length;i++){var objCal=objContainer.arrCal[i];if(objCal.spanTagID==strID){var strFrameName="frm_Calendar_"+objCal.spanTagID;if(frames[strFrameName].blnCalendarLoaded){clearTimeout(objCal._calDelay);var strDivCalID='div_Calendar_'+objCal.spanTagID;var objControl=getFieldByID(strDivCalID);objControl.style.left=objCal.left;objControl.style.top=objCal.top;setVisible(strDivCalID,true);var arrCurrDate=objCal.currentDate.split("/");var strFrameName="frm_Calendar_"+objCal.spanTagID;var strTxtStyle=0;if(objCal.blnArabic){strTxtStyle=1}frames[strFrameName].SetDate(arrCurrDate[0],arrCurrDate[1],arrCurrDate[2],objCal.noYears,objCal.spanTagID,objCal.disableUpto,strTxtStyle,objCal.disableFrom,objCal.yearRange,objCal.imgPathNav,objCal.arrMonths,objCal.arrWeekDays,objCal.dir)}break}}}function showCalendar(objEvent){var objContainer=document.getElementById(window._CalendarLayer);var strGridHTMLText="";for(var i=0;i<objContainer.arrCal.length;i++){var objCal=objContainer.arrCal[i];if(objCal.spanTagID==this.spanTagID){var strDelayFunction="delayCalendar('"+objCal.spanTagID+"')";var x=0;var y=0;if(objEvent!=null){if(window._CalBrowser){x=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft;y=window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop}else{x=objEvent.clientX+window.scrollX;y=objEvent.clientY+window.scrollY}}if(objCal.top==0){objCal.top=y+20}if(objCal.left==0){objCal.left=x}if(objCal._calDelay==null){objCal._calDelay=setInterval(strDelayFunction,300)}break}}}function buildCalendar(){document.writeln('<span id="'+window._CalendarLayer+'" style="visibility:hidden;"> <\/span>');var objContainer=document.getElementById(window._CalendarLayer);objContainer.arrCal=new Array();for(var i=0;i<window._arrCalObj.length;i++){objContainer.arrCal[i]=window._arrCalObj[i];var strMoveCursor="cursor:default;";if(objContainer.arrCal[i].blnDragCalendar){strMoveCursor="cursor:move;"}var strCalHTML="";var intBoxWidth="281";if(window._CalBrowser){intBoxWidth="281"}else{intBoxWidth="281"}var strBoxStyle="font-family:verdana;font-size:11px;background-color: "+objContainer.arrCal[i].borderColor+";border: 2px groove "+objContainer.arrCal[i].borderColor+";color: "+objContainer.arrCal[i].borderColor+";padding: 1px;position: absolute;cursor:"+strMoveCursor+"width:281px;";if(!objContainer.arrCal[i].blnHeader){if(window._CalBrowser){strBoxStyle+="height:155px;"}else{strBoxStyle+="height:145px;"}}else{strBoxStyle+="height:165px;"}var strBarStyle="color: white;font-weight: bold;padding: 1px 1px 1px 1px;"+strMoveCursor;var strHDStyle="font-family:verdana;font-size:11px;color:white;font-weight:bold;"+strMoveCursor;var strMsgBoxHTML="";var strSPNID=window._CalendarLayer+'_'+objContainer.arrCal[i].spanTagID;strMsgBoxHTML='<span id="'+strSPNID+'"><\/span>';document.writeln(strMsgBoxHTML);var strDivCalID='div_Calendar_'+objContainer.arrCal[i].spanTagID;objContainer.arrCal[i].calDivID=strDivCalID;strMsgBoxHTML="";strMsgBoxHTML+='<div id="'+strDivCalID+'" style="position:absolute;left:400px;top:150px;'+strBoxStyle+'z-index:200;"';if(objContainer.arrCal[i].blnDragCalendar){strMsgBoxHTML+=' onmousedown="dragStart(event, '+"'"+strDivCalID+"'"+')"'}var tblWidth=intBoxWidth;var specialIE8Mode=false;if(browser.isIE){if(document.documentMode){if(browser.version==8||browser.version=="8"){if(document.documentMode==8){tblWidth="99%";specialIE8Mode=true}}}}strMsgBoxHTML+=' >';if(objContainer.arrCal[i].blnHeader){strMsgBoxHTML+='<table width="99%"+" border="0" cellpadding="0" cellspacing="0" align="left">';strMsgBoxHTML+='	<tr><td>';strMsgBoxHTML+='		<span id="div_MsgBox_Header'+objContainer.arrCal[i].spanTagID+'" style="height:20px;width:'+intBoxWidth+';'+strBarStyle+'"';if(objContainer.arrCal[i].blnDragCalendar){strMsgBoxHTML+=' onmousedown="dragStart(event, '+"'"+strDivCalID+"'"+')"'}strMsgBoxHTML+=' >';strMsgBoxHTML+='	<table width="'+tblWidth+'" border="0" cellpadding="2" cellspacing="0" align="right">';strMsgBoxHTML+='			<tr>';if((objContainer.arrCal[i].blnArabic)||(objContainer.arrCal[i].dir.toUpperCase()=="RTL")){strMsgBoxHTML+='				<td align="left"><a href="javascript:void(0)" onclick="HideCalendarClick('+"'"+objContainer.arrCal[i].spanTagID+"'"+');return false;"><IMG SRC="'+objContainer.arrCal[i].imgPath+'Close.jpg" border="0" title="?????"><\/a><\/td>';strMsgBoxHTML+='				<td align="right"><font style="color:'+objContainer.arrCal[i].headerTextColor+';font-size:11px;"><b>'+objContainer.arrCal[i].header+'<\/b><\/font><\/td>'}else if(specialIE8Mode){strMsgBoxHTML+='				<td width="70%" align="left"><font style="color:'+objContainer.arrCal[i].headerTextColor+';font-size:11px;"><b>'+objContainer.arrCal[i].header+'<\/b><\/font><\/td>';strMsgBoxHTML+='				<td align="right"  width="30%"><a href="javascript:void(0)" onclick="HideCalendarClick('+"'"+objContainer.arrCal[i].spanTagID+"'"+');return false;"><IMG SRC="'+objContainer.arrCal[i].imgPath+'Close.jpg" border="0" title="Close"><\/a><\/td>'}else{strMsgBoxHTML+='				<td align="left"><font style="color:'+objContainer.arrCal[i].headerTextColor+';font-size:11px;"><b>'+objContainer.arrCal[i].header+'<\/b><\/font><\/td>';strMsgBoxHTML+='				<td align="right"  width="3%"><a href="javascript:void(0)" onclick="HideCalendarClick('+"'"+objContainer.arrCal[i].spanTagID+"'"+');return false;"><IMG SRC="'+objContainer.arrCal[i].imgPath+'Close.jpg" border="0" title="Close"><\/a><\/td>'}strMsgBoxHTML+='			<\/tr>';strMsgBoxHTML+='		<\/table>';strMsgBoxHTML+='	<\/span>';strMsgBoxHTML+='	<\/td><\/tr>';strMsgBoxHTML+='	<tr><td>'}if(window._CalBrowser){strMsgBoxHTML+='	<div id="div_Calendar_Content_'+objContainer.arrCal[i].spanTagID+''+'" style="height:150px;width:'+intBoxWidth+';">'}else{strMsgBoxHTML+='	<div id="div_Calendar_Content_'+objContainer.arrCal[i].spanTagID+''+'" style="height:146px;width:'+intBoxWidth+';">'}var strCalPG=window._CalendarPage;strMsgBoxHTML+='	<iframe src="'+strCalPG+'" id="frm_Calendar_'+objContainer.arrCal[i].spanTagID+'" name="frm_Calendar_'+objContainer.arrCal[i].spanTagID+'" height="100%" width="100%" frameborder="no" scrolling="no"><\/iframe>';strMsgBoxHTML+='<\/div>';strMsgBoxHTML+='<\/div>';if(objContainer.arrCal[i].blnHeader){strMsgBoxHTML+='	<\/td><\/tr><\/table>'}DivWrite(strSPNID,strMsgBoxHTML);setVisible(strSPNID,false)}}function HideCalendarClick(strID){var strDivID='div_Calendar_'+strID;setVisible(strDivID,false);var objContainer=document.getElementById(window._CalendarLayer);var strGridHTMLText="";for(var i=0;i<objContainer.arrCal.length;i++){var objCal=objContainer.arrCal[i];if(objCal.spanTagID==strID){clearInterval(objCal._calDelay);objCal._calDelay=null;break}}}function hideCalendar(){HideCalendarClick(this.spanTagID)}function DateReturn(strDD,strMM,strYY,strObject){var objContainer=document.getElementById(window._CalendarLayer);var strGridHTMLText="";for(var i=0;i<objContainer.arrCal.length;i++){var objCal=objContainer.arrCal[i];if(objCal.spanTagID==strObject){objCal.currentDate=strDD+"/"+strMM+"/"+strYY;if(objCal.blnAutoHide){HideCalendarClick(strObject)}if(objCal.onClick!=""){var strOnClickFunction=eval(objCal.onClick+"('"+objCal.currentDate+"','"+objCal.ID+"')")}strOnClickFunction;break}}}

//homeScripts.js
var strCountryCode="IN";var strTxtWarnHD="Warning";var strImgUrl="images/ibe/new/";var strAlignR="right";var strAlignL="left";var strTxtTimer="Your session will expire in #1&nbsp;minutes";var strTxtSuccessHD="Successful ";var strTxtBaseFare="Fare + Fuel Charges + Congestion Charge";var strTxtTax="Tax";var strTxtFees="Fees";var arrBCrum=new Array("Search","Select Flight","Payment","Confirmation");var dtC=new Date();var strSysDate=DateToString(dtC);var strCurr="";var strBkgRefNo="";var strUniqueId="";var today=new Date();var dd=today.getDate();var mm=today.getMonth()+1;var yyyy=today.getFullYear();if(dd<10){dd='0'+dd}if(mm<10){mm='0'+mm}var strPrmSysDate=dd+'/'+mm+'/'+yyyy;var arrMemInfo=new Array();arrMemInfo.lenght=0;arrMemInfo=new Array();var isTaxAvailable='';var intPrmAdtMax=6;var intPrmChldMax=5;var intMaxPax=6;var intPrmMaxMonths=12;var strTxtBFrom="Origin";var strTxtBTo="Destination";var strTxtWCApt="Departure Airport";var arrTab=new Array();arrTab[0]= new Array("BOOK", "72", "flights.gif", "flights.gif");arrTab[1]= new Array("FLIGHT STATUS", "101", "flight_status.gif", "flight_status.gif");arrTab[2]=new Array( "MANAGE BOOKING", "126", "manage_booking.gif", "manage_booking.gif");arrTab[3]=new Array( "Check In", "81", "check-in.gif", "check-in.gif");var arrControls=new Array();arrControls[0]=new Array("radBTrip","Trip Type","Y");arrControls[1]=new Array("radBTDate","My dates are","Y");arrControls[2]=new Array("selDDay","Departure Date","Y");arrControls[3]=new Array("selDMonYear","Departure Month","Y");arrControls[4]=new Array("selRDay","Return Date","");arrControls[5]=new Array("selRMonYear","Return Month","");arrControls[6]=new Array("selBAdt","Adults","Y");arrControls[7]=new Array("selBChld","Children","");arrControls[8]=new Array("selBInf","Adults","");arrControls[9]=new Array("selBCos","Class of Service","Y");arrControls[10]=new Array("selBFType","Flight Type","Y");arrControls[11]=new Array("chkBKM","Book using King miles","");arrControls[12]=new Array("txtBPromoCode","Promo Code","");arrControls[13]=new Array("chkFlexibleDate","Travel dates are flexible","");arrControls[14]=new Array("radByPrice","By Schedule Or Price","");var arrControlsMB=new Array();var arrControlsWC=new Array();var arrHotel=new Array();var arrMonths=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");var strOriginCode="KF";var strVendor="N";var strImptNote="Due to security requirements, Guests will need to get their boarding pass stamped from the check-in area at the airport. (Contents should be provided by KF.)";var strHrTxt="hours";var arrCabinClasses=new Array();arrCabinClasses[0]=new Array('KC,KR','Kingfisher Class / Red','Y');arrCabinClasses[1]=new Array('KC','Kingfisher Class','N');arrCabinClasses[2]=new Array('KR','Kingfisher Red','N');arrCabinClasses[3]=new Array('KF','Kingfisher First','Y');var showSearchOpt="false";showSearchOpt='false';var hdnCrLoginId="";var hdnCrLoginPassword="";var hdnCrLoginMode="";var hdnCrVoucher="";var arrRetrunPopUpControls=new Array();arrRetrunPopUpControls[0]=new Array("pop_selRDay","Return Date","");arrRetrunPopUpControls[1]=new Array("pop_selRMonYear","Return Month","");